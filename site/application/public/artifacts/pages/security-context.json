{"label":"Security Context","rows":[{"id":376,"state":{"hideMode":"toggle","handledEvent":{"eventFields":[],"name":null}},"cells":[{"id":377,"rows":[{"id":378,"state":{"hideMode":null},"cells":[{"id":379,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":"security-context","mask":false,"anchor":null,"activeRoutes":[],"bindings":{"contextId":"repeatContext.record.id","serviceContext":"page.serviceContext","$serviceContext":"page.$serviceContext"},"type":"route"}],"trigger":"activate"}],"fragments":{"contextName":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatContext.record.name"}},"content":"{contextName}","componentGroup":"contextSelector","activateByDefault":false,"activeInitial":"$value(\"repeatContext.recordIndex\") == 0\n\t&& $value(\"activateFirstTab\") == true","badge":"=$value(\"repeatContext.record.componentName\")","activationType":"group"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"tab","modifiers":[],"options":["fill_normal","spacing_gap-xsmall"],"conditions":{}},"page-button-badge":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["fill_normal"],"conditions":{}}}}}],"alias":null,"bindings":{},"name":null,"state":{"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[],"fragments":{"contextName":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatContext.record.name"}},"content":"{contextName}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"page-button":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"repeat-content":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":"repeat","repeat":{"bindings":{},"defaultOrderBy":[],"operation":"nabu.cms.core.v2.manage.security.context.list","loadingPlaceholder":"%{Loading...}"},"rendererBindings":{"$serviceContext":null},"runtimeAlias":"repeatContext"},{"id":380,"rows":[],"alias":"typography-h4","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{},"content":"Available Contexts"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":["spacing_horizontal-medium","width_fixed-12","align_main-center","align_cross-end","position_right"],"conditions":{},"defaultVariant":"page-column-typography-h4"},"typography":{"variant":null,"modifiers":[],"options":["decoration_upper","size_xsmall","color_primary-dark-outline"],"conditions":{},"defaultVariant":"typography-h4"}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Tabs","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["border_bottom","color_background"],"conditions":{}},"renderer-menu":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":null,"rendererBindings":{},"closeable":true},{"id":144,"state":{"hideMode":null},"cells":[{"id":367,"rows":[{"id":368,"state":{"hideMode":null},"cells":[{"id":145,"rows":[],"alias":"typography-h1","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{"current":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"context.name"}},"content":"{current}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-h1"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-h1"}}}},{"id":369,"rows":[],"alias":"page-badge","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{"component":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"context.componentName"}},"content":"{component}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-badge"},"page-badge":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_cross-center","spacing_gap-medium"],"conditions":{}}}}}],"alias":null,"bindings":{},"name":"Wrapper for H1","state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":["spacing_large","spacing_vertical-sides-medium"],"conditions":{"spacing_vertical-sides-small":null},"defaultVariant":"page-column"},"typography":{"variant":null,"modifiers":[],"options":["spacing_large"],"conditions":{},"defaultVariant":"typography-h1"}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}},{"id":138,"state":{"hideMode":null},"cells":[{"id":139,"rows":[{"id":140,"state":{"hideMode":null},"cells":[{"id":141,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":"security-context","mask":null,"anchor":null,"activeRoutes":[],"bindings":{"contextId":"repeatBreadcrumbParents.record.id","serviceContext":"page.serviceContext"},"type":"route","condition":null}],"trigger":"activate","condition":"$value(\"repeatBreadcrumbParents.record.id\") != $value(\"page.contextId\")"}],"fragments":{"parent":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatBreadcrumbParents.record.name"}},"content":"{parent}","disabled":"","active":"false","activationType":"condition"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":["position_cross-center"],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"primary-outline","modifiers":[],"options":["color_warning-outline","size_xsmall"],"conditions":{"color_warning":null,"color_secondary":null,"color_warning-outline":"$value(\"repeatBreadcrumbParents.record.id\") == $value(\"page.contextId\")"}},"typography":{"variant":null,"modifiers":[],"options":["spacing_horizontal-small"],"conditions":{},"defaultVariant":"typography-span"}}}},{"id":143,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"hideMode":"script","fragments":{},"icon":"chevron-right","content":""},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":"function() {\n\tvar index = $value(\"repeatBreadcrumbParents.recordIndex\");\n\tvar amount = $value(\"repeatBreadcrumbParents.records\").length;\n\treturn index < amount - 1;\n}","devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":["align_cross-center"],"conditions":{},"defaultVariant":"page-column-typography-fragment"},"page-button":{"variant":"tab","modifiers":[],"options":["fill_normal","color_warning-outline"],"conditions":{"color_warning":null,"color_secondary":null,"color_warning-outline":"$value(\"repeatBreadcrumbParents.record.id\") == $value(\"page.contextId\")"}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}},"closeable":false,"triggers":[]}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_cross-center","spacing_gap-medium"],"conditions":{}}}}}],"alias":null,"bindings":{},"name":null,"state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"repeat-content":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":"repeat","repeat":{"bindings":{},"defaultOrderBy":[],"array":"page.context.parents"},"rendererBindings":{},"runtimeAlias":"repeatBreadcrumbParents"}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Breadcrumbs","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_cross-center","spacing_medium","spacing_horizontal-sides-large","spacing_vertical-sides-large"],"conditions":{"color_background":null,"spacing_medium":null,"spacing_large":null,"spacing_horizontal-large":null}}}},"closeable":false},{"id":28,"state":{"hideMode":null,"handledEvent":{"eventFields":[],"name":null}},"cells":[{"id":470,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"visibility","closeableTarget":471,"closeableAction":"visible","allowUntrigger":true}],"trigger":"activate"}],"fragments":{},"content":"%{Rules}","componentGroup":"dimensionTab","activateByDefault":true,"activationType":"group"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"tab2","modifiers":[],"options":["fill_normal"],"conditions":{}}}},"triggers":[]},{"id":137,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"visibility","closeableTarget":136,"closeableAction":"visible","allowUntrigger":true}],"trigger":"activate"}],"fragments":{},"content":"%{Users}","componentGroup":"dimensionTab","activateByDefault":false,"activationType":"group"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"tab2","modifiers":[],"options":["fill_normal"],"conditions":{}}}}},{"id":203,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"visibility","closeableTarget":204,"closeableAction":"visible","allowUntrigger":true},{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"$value(\"page.$this\").set(\"securityRuleContext\",\n\t$value(\"page.context\"))"}],"trigger":"activate"}],"fragments":{},"content":"%{Nodes}","componentGroup":"dimensionTab","activateByDefault":false},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"tab2","modifiers":[],"options":["fill_normal"],"conditions":{}}}}},{"id":30,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"visibility","closeableTarget":2,"closeableAction":"visible","allowUntrigger":true}],"trigger":"activate"}],"fragments":{},"content":"%{Permissions}","componentGroup":"dimensionTab","activateByDefault":false},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"tab2","modifiers":[],"options":["fill_normal"],"conditions":{}}}}},{"id":209,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"visibility","closeableTarget":243,"closeableAction":"visible","allowUntrigger":true}],"trigger":"activate"}],"fragments":{},"content":"%{Roles}","componentGroup":"dimensionTab","activateByDefault":false},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"tab2","modifiers":[],"options":["fill_normal"],"conditions":{}}}}},{"id":348,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"visibility","closeableTarget":277,"closeableAction":"visible","allowUntrigger":true}],"trigger":"activate"}],"fragments":{},"content":"%{Features}","componentGroup":"dimensionTab","activateByDefault":false},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"tab2","modifiers":[],"options":["fill_normal"],"conditions":{}}}}},{"id":404,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"visibility","closeableTarget":387,"closeableAction":"visible","allowUntrigger":true}],"trigger":"activate"}],"fragments":{},"content":"%{Connections}","componentGroup":"dimensionTab","activateByDefault":false,"activationType":"group"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"tab2","modifiers":[],"options":["fill_normal"],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Subtabs","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"renderer-menu":{"variant":"tabs2","modifiers":[],"options":[],"conditions":{}}}},"renderer":"menu","rendererBindings":{}},{"id":387,"state":{"hideMode":"toggle"},"cells":[{"id":405,"rows":[{"id":406,"state":{"hideMode":null},"cells":[{"id":407,"rows":[{"id":408,"state":{"hideMode":null},"cells":[{"id":409,"rows":[],"alias":"typography-h5","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{},"content":"%{Connections}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-h5"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-h5"}}}},{"id":410,"rows":[],"alias":"typography-paragraph","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{},"content":"Allow other nodes to contain security linked to this node<br>"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-paragraph"},"typography":{"variant":"subscript","modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-p"}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_gap-small"],"conditions":{}}}}}],"alias":null,"bindings":{},"name":"Header","state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"typography":{"variant":"subscript","modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-p"}}}},{"id":388,"rows":[{"id":411,"state":{},"cells":[{"id":412,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"content":"%{Source node}","sortFields":[{"name":"name"}],"target":14,"hideMode":null,"fragments":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button-sort"},"page-button-sort":{"variant":null,"modifiers":[],"options":["size_small","spacing_horizontal-sides-none","direction_reverse"],"conditions":{}},"table-column":{"variant":null,"modifiers":[],"options":["align_bottom"],"conditions":{}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}},"table":{}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table header","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"rendererSlot":"header","excludeFromTemplate":false,"templateReferenceId":"nabu-templates-25","templateFragmentId":31},{"id":394,"state":{"hideMode":null},"cells":[{"id":395,"rows":[{"id":396,"state":{"hideMode":null},"cells":[{"id":397,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"content":"{sourceName}","fragments":{"sourceName":{"key":"repeatNodeConnection.record.sourceName","format":null,"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null}},"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":null},{"id":398,"rows":[],"alias":"page-badge","bindings":{},"name":null,"state":{"content":"{sourceComponentName}","fragments":{"sourceComponentName":{"key":"repeatNodeConnection.record.sourceComponentName","format":null,"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null}},"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":["empty"],"options":[],"conditions":{"empty":"$value(\"repeatNodeConnection.record.sourceComponentName\") == null"}},"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-badge"},"typography":{"variant":"subscript","modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"},"page-badge":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["spacing_gap-small","align_cross-center"],"conditions":{}}}}}],"alias":null,"bindings":{},"name":"Wrapper for Fragment","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":["empty"],"options":[],"conditions":{"empty":"$value(\"repeatNodeConnection.record.sourceName\") == null"}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}}},{"id":399,"rows":[{"id":400,"state":{},"cells":[{"id":401,"rows":[],"alias":"page-button","bindings":{},"name":"Delete NodeConnection","state":{"content":null,"icon":"times","triggers":[{"trigger":"activate","actions":[{"type":"confirmation","confirmation":"%{Are you sure you want to delete this entry?}"},{"type":"operation","operation":"nabu.cms.core.v2.manage.security.crud.nodeConnection.services.delete","bindings":{"id":"repeatNodeConnection.record.id"}},{"type":"action","action":"refresh","actionTarget":417,"bindings":{}}]}]},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"page-button":{"variant":"danger-outline","modifiers":[],"options":["size_small","border_none"],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["gap_small","wrap_none"],"conditions":{}}}}}],"alias":null,"bindings":{},"name":"Local actions","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":["small"],"options":["border_none"],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table Body NodeConnection","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"repeat-content":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"table-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":"repeat","rendererBindings":{"filter.limit":"fixed.10","filter.contextId":"context.id"},"repeat":{"bindings":{},"operation":"nabu.cms.core.v2.manage.security.crud.nodeConnection.services.list","emptyPlaceholder":"%{No connections available}","loadingPlaceholder":"%{Loading connections}","selectable":true,"enableParameterWatching":true,"defaultOrderBy":[],"type":"operation"},"runtimeAlias":"repeatNodeConnection","templateReferenceId":"nabu-templates-2","templateFragmentId":6}],"alias":null,"bindings":{},"name":"NodeConnection Table","state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"table":{"variant":null,"modifiers":["mobile","fill"],"options":[],"conditions":{"mobile":"$services.page.device(\"<=\", \"phone\")"}},"table-column":{"variant":null,"modifiers":[],"options":["fill_normal"],"conditions":{}}}},"renderer":"table","rendererBindings":{},"isTemplate":false,"templateVersion":3,"templateId":null,"templateTitle":"Basic Table","templateCategory":"Nabu Templates","templateIcon":"table","templateStable":null,"templateDescription":"A basic table without things like header, tags,...","isTemplateInstance":true,"templateReferenceId":"nabu-templates-2","templateFragmentId":2},{"id":417,"rows":[{"id":418,"state":{"hideMode":null},"cells":[{"id":403,"rows":[],"alias":"page-button","bindings":{},"name":"Create NodeConnection","state":{"content":"%{New connection}","icon":"plus","triggers":[{"trigger":"activate","actions":[{"type":"event","event":{"name":"createNodeConnection","eventFields":[]}}]}],"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"activationType":"route","fragments":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"primary","modifiers":[],"options":[],"conditions":{}},"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Global Actions","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_end","spacing_gap-xsmall"],"conditions":{}}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":36}],"alias":null,"bindings":{},"name":"Button container","state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":["fill_normal"],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":35}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["spacing_gap-medium"],"conditions":{}}}}}],"alias":null,"bindings":{},"name":null,"state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":["fill_normal"],"conditions":{},"defaultVariant":"page-column"}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Connections","aris":{"components":{"page-row":{"variant":"tab2-content","modifiers":[],"options":[],"conditions":{}}}},"closeable":true},{"id":1,"state":{"hideMode":null},"cells":[{"id":2,"rows":[{"id":3,"state":{"hideMode":null},"cells":[{"id":188,"rows":[{"id":189,"state":{"hideMode":null},"cells":[{"id":190,"rows":[],"alias":"typography-h5","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{},"content":"%{Permissions}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-h5"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-h5"}}}},{"id":191,"rows":[],"alias":"typography-paragraph","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{},"content":"Manage the permissions that are linked to each role.<br>A permission is a specific action that the user can take within the system.<br>A role represents a collection of permissions that matches a persona that will be using the system.<br>"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-paragraph"},"typography":{"variant":"subscript","modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-p"}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_gap-small"],"conditions":{}}}}}],"alias":null,"bindings":{},"name":"Header","state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"typography":{"variant":"subscript","modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-p"}}}},{"id":5,"rows":[{"id":6,"state":{},"cells":[{"id":7,"rows":[],"alias":"page-form-text","bindings":{},"name":"Q","state":{"name":"repeatAction.filter.q","label":null,"timeout":600,"placeholder":"%{Search}","suffixIcon":"search","hideMode":null,"textType":null,"bindings":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":["width_min-xsmall"],"conditions":{},"defaultVariant":"page-column-page-form-text"},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table Filters","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["spacing_gap-small"],"conditions":{}}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":28},{"id":370,"state":{"hideMode":"script"},"cells":[{"id":371,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{},"content":"%{Permission Contexts}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-fragment"},"typography":{"variant":null,"modifiers":[],"options":["decoration_upper","size_xxsmall"],"conditions":{},"defaultVariant":"typography-span"}}}},{"id":372,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"$value(\"page.$this\").set(\"permissionSearchContext\", $value(\"page.contextId\"))"}],"trigger":"activate"}],"fragments":{"context":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"page.context.name"}},"content":"%{Current}","componentGroup":"listableContexts","activateByDefault":true,"disabled":""},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"primary","modifiers":[],"options":["spacing_xsmall","border_none"],"conditions":{}}}},"triggers":[]},{"id":373,"rows":[{"id":374,"state":{"hideMode":null},"cells":[{"id":375,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":"script","bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"$value(\"page.$this\").set(\"permissionSearchContext\", $value(\"repeatListableContext.record.id\"))"}],"trigger":"activate"}],"fragments":{"context":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatListableContext.record.name"}},"content":"{context}","componentGroup":"listableContexts","activeInitial":"","activateByDefault":false},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":"$value(\"page.contextId\") != $value(\"repeatListableContext.record.id\")","devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"link","modifiers":[],"options":[],"conditions":{}}}},"closeable":false}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"alias":null,"bindings":{},"name":null,"state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"repeat-content":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":"repeat","repeat":{"bindings":{},"defaultOrderBy":[],"array":"page.listableContexts.results","type":"array","customSlots":[]},"rendererBindings":{},"runtimeAlias":"repeatListableContext"}],"class":null,"customId":null,"condition":"$value(\"page.listableContexts.results\").length > 1 && false","direction":null,"align":null,"on":null,"collapsed":false,"name":"Context listing","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_cross-center","spacing_gap-medium","color_background","spacing_horizontal-medium"],"conditions":{}}}},"closeable":false},{"id":381,"state":{"hideMode":"script"},"cells":[{"id":382,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{},"content":"%{Role Contexts}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-fragment"},"typography":{"variant":null,"modifiers":[],"options":["decoration_upper","size_xxsmall"],"conditions":{},"defaultVariant":"typography-span"}}}},{"id":383,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"$value(\"page.$this\").set(\"roleSearchContext\", $value(\"page.contextId\"))"}],"trigger":"activate"}],"fragments":{"context":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"page.context.name"}},"content":"%{Current}","componentGroup":"listableRoleContexts","activateByDefault":true,"disabled":"","activationType":"group"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"primary","modifiers":[],"options":["spacing_xsmall","border_none"],"conditions":{}}}},"triggers":[]},{"id":384,"rows":[{"id":385,"state":{"hideMode":null},"cells":[{"id":386,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":"script","bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"$value(\"page.$this\").set(\"roleSearchContext\", $value(\"repeatListableRoleContext.record.id\"))"}],"trigger":"activate"}],"fragments":{"context":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatListableRoleContext.record.name"}},"content":"{context}","componentGroup":"listableRoleContexts","activeInitial":"","activateByDefault":false,"activationType":"group"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":"$value(\"page.contextId\") != $value(\"repeatListableRoleContext.record.id\")","devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"link","modifiers":[],"options":[],"conditions":{}}}},"closeable":false}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"alias":null,"bindings":{},"name":null,"state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"repeat-content":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":"repeat","repeat":{"bindings":{},"defaultOrderBy":[],"array":"page.listableContexts.results","type":"array"},"rendererBindings":{},"runtimeAlias":"repeatListableRoleContext"}],"class":null,"customId":null,"condition":"$value(\"page.listableContexts.results\").length > 1 && false","direction":null,"align":null,"on":null,"collapsed":false,"name":"Context listing","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_cross-center","spacing_gap-medium","color_background","spacing_horizontal-medium"],"conditions":{}}}},"closeable":false}],"alias":null,"bindings":{},"name":"Filter container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":27},{"id":8,"rows":[{"id":9,"state":{},"cells":[{"id":10,"rows":[],"alias":"page-tag","bindings":{},"name":null,"state":{"field":"repeatAction.filter.q","content":"%{Search}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-tag"},"page-tag":{"variant":"primary-dark-outline","modifiers":[],"options":["direction_reverse","decoration_emphasis"],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table Tags","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["spacing_gap-small"],"conditions":{}}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":38}],"alias":null,"bindings":{},"name":"Tag container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":37},{"id":11,"rows":[{"id":12,"state":{},"cells":[{"id":13,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"content":"%{Permission}","sortFields":[{"name":"name"}],"target":14,"hideMode":null,"fragments":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button-sort"},"page-button-sort":{"variant":null,"modifiers":[],"options":["size_small","spacing_horizontal-sides-none","direction_reverse"],"conditions":{}},"table-column":{"variant":null,"modifiers":[],"options":["align_bottom"],"conditions":{}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}},"table":{}},{"id":356,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"content":"%{Description}","sortFields":[{"name":"name"}],"target":14,"hideMode":null,"fragments":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button-sort"},"page-button-sort":{"variant":null,"modifiers":[],"options":["size_small","spacing_horizontal-sides-none","direction_reverse"],"conditions":{}},"table-column":{"variant":null,"modifiers":[],"options":["align_bottom"],"conditions":{}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}},"table":{}},{"id":15,"rows":[{"id":16,"state":{"hideMode":null},"cells":[{"id":17,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{"role":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatRole.record.name"}},"content":"{role}","tooltip":"=$value(\"repeatRole.record.ownerName\")"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-fragment"},"typography":{"variant":null,"modifiers":[],"options":["rotate_90deg-reverse"],"conditions":{},"defaultVariant":"typography-span"},"tooltip":{"variant":null,"modifiers":[],"options":["position_right"],"conditions":{"position_top":null,"position_top-reverse":null},"defaultVariant":"tooltip-span"}}},"table":{}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["spacing_gap-small","align_cross-end","direction_horizontal"],"conditions":{"direction_vertical":null,"align_cross-center":null,"align_cross-start":null,"direction_horizontal":null}}}}}],"alias":null,"bindings":{},"name":null,"state":{"hideMode":null,"fragments":{"role":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatRole.record.name"}},"content":"{role}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":["small"],"options":["direction_horizontal","align_bottom"],"conditions":{}},"repeat-content":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"},"repeat-message":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"repeat-empty":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"repeat-loading":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"table":{},"renderer":"repeat","repeat":{"bindings":{},"defaultOrderBy":[],"operation":null,"array":"roles.results","type":"array","customSlots":[],"arrayFilter":"function(role) {\n\treturn !role.pseudo;\n}"},"rendererBindings":{},"runtimeAlias":"repeatRole"},{"id":458,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{"role":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatRole.record.name"}},"content":"$guest"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-fragment"},"typography":{"variant":null,"modifiers":[],"options":["rotate_90deg-reverse"],"conditions":{},"defaultVariant":"typography-span"},"table-column":{"variant":null,"modifiers":["small"],"options":["align_bottom"],"conditions":{"align_start":null,"align_cross-start":null}}}},"table":{},"triggers":[]},{"id":459,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{"role":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatRole.record.name"}},"content":"$user"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-fragment"},"typography":{"variant":null,"modifiers":[],"options":["rotate_90deg-reverse"],"conditions":{},"defaultVariant":"typography-span"},"table-column":{"variant":null,"modifiers":["small"],"options":["align_bottom"],"conditions":{"align_start":null,"align_cross-start":null}}}},"table":{}},{"id":460,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{"role":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatRole.record.name"}},"content":"$owner"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-fragment"},"typography":{"variant":null,"modifiers":[],"options":["rotate_90deg-reverse"],"conditions":{},"defaultVariant":"typography-span"},"table-column":{"variant":null,"modifiers":["small"],"options":["align_bottom"],"conditions":{"align_start":null,"align_cross-start":null}}}},"table":{}},{"id":559,"rows":[],"alias":"typography-fragment","bindings":{},"name":"Local actions header","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table header","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"rendererSlot":"header","excludeFromTemplate":false,"templateReferenceId":"nabu-templates-25","templateFragmentId":31},{"id":18,"state":{"hideMode":null},"cells":[{"id":357,"rows":[{"id":358,"state":{"hideMode":null},"cells":[{"id":20,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"content":"{name}","fragments":{"name":{"key":"repeatAction.record.name","format":null,"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null}},"hideMode":"script"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":"$value(\"repeatAction.record.name\")","devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":["empty"],"options":[],"conditions":{"empty":"$value(\"repeatAction.record.name\") == null"}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"},"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-fragment"}}},"table":{},"closeable":false}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_cross-center"],"conditions":{"spacing_gap-small":null}}}}}],"alias":null,"bindings":{},"name":"Wrapper for Fragment","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":["empty"],"options":[],"conditions":{"empty":"$value(\"repeatAction.record.name\") == null"}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}}},{"id":355,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"content":"{description}","fragments":{"name":{"key":"repeatAction.record.name","format":null,"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null},"description":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatAction.record.description"}},"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":["empty"],"options":[],"conditions":{"empty":"$value(\"repeatAction.record.name\") == null"}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}},"rerender":true},"table":{}},{"id":21,"rows":[{"id":22,"state":{"hideMode":null},"cells":[{"id":23,"rows":[],"alias":"page-smart-check","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{"role":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatRole.record.name"}},"content":"{role}","bindings":{},"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{"actionId":"repeatAction.record.id","roleId":"repeatRoleMembership.record.id","contextId":"page.permissionSearchContext","$serviceContext":null},"type":"operation","operation":"nabu.cms.core.v2.manage.security.context.action.add"},{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"function() {\n\tvar roleId = $value(\"repeatRoleMembership.record.id\")\n\tvar record = $value(\"repeatAction.record\");\n\tif (!record.roleIds) {\n\t\tVue.set(record, \"roleIds\", []);\n\t}\n\trecord.roleIds.push(roleId);\n}"}],"trigger":"check"},{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{"actionId":"repeatAction.record.id","roleId":"repeatRoleMembership.record.id","contextId":"page.permissionSearchContext","$serviceContext":null},"type":"operation","operation":"nabu.cms.core.v2.manage.security.context.action.remove"},{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"function() {\n\tvar roleId = $value(\"repeatRoleMembership.record.id\")\n\tvar actionMemberships = $value(\"repeatAction.record.roleIds\");\n\tif (actionMemberships) {\n\t\tvar index = actionMemberships.indexOf(roleId);\n\t\tif (index >= 0) {\n\t\t\tactionMemberships.splice(index, 1);\n\t\t}\n\t}\n}"}],"trigger":"clear"}],"checkCondition":"function() {\n\tvar roleId = $value(\"repeatRoleMembership.record.id\")\n\tvar record = $value(\"repeatAction.record\");\n\treturn record.roleIds && record.roleIds.indexOf(roleId) >= 0;\n}","disabledCondition":"function() {\n\tvar contextId = $value(\"page.contextId\");\n\tvar role = $value(\"repeatRoleMembership.record\");\n\tvar action = $value(\"repeatAction.record\");\n\t// if you own neither the role nor the permission, don't edit here, it's misleading\n\tif (role.ownerId != contextId && action.ownerId != contextId) {\n\t\treturn true;\n\t}\n\telse {\n\t\treturn $services.user.cant({name: \"role.manage\", context: $value(\"page.contextId\"), serviceContext: $value(\"$this\").getServiceContext()})\n\t}\n}\n"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-smart-check"},"typography":{"variant":null,"modifiers":[],"options":["rotate_90deg-reverse"],"conditions":{},"defaultVariant":"typography-span"},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"table":{},"triggers":[]}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"alias":null,"bindings":{},"name":null,"state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":["small"],"options":[],"conditions":{}},"repeat-content":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"table":{},"renderer":"repeat","repeat":{"bindings":{},"defaultOrderBy":[],"operation":null,"array":"roles.results","type":"array","customSlots":[],"arrayFilter":"function(role) {\n\treturn !role.pseudo;\n}"},"rendererBindings":{},"runtimeAlias":"repeatRoleMembership"},{"id":461,"rows":[],"alias":"page-form-checkbox","bindings":{},"name":null,"state":{"bindings":{},"mustCheck":false,"useComputed":true,"computed":"function() {\n\tvar role = \"$guest\";\n\tvar record = $value(\"repeatAction.record\");\n\tvar roles = $value(\"roles.results\");\n\tif (roles && record && record.roleIds) {\n\t\tvar hasRole = false;\n\t\t// _any_ guest role assignment will do\n\t\troles = roles.filter(function(x) { \n\t\t\treturn x.pseudo && x.name == role;\n\t\t}).forEach(function(x) { \n\t\t\tif (record.roleIds.indexOf(x.id) >= 0) {\n\t\t\t\thasRole = true;\n\t\t\t}\n\t\t});\n\t\treturn hasRole;\n\t}\n}","hideMode":null,"disabled":"function() {\n\tvar role = \"$guest\";\n\tvar contextId = $value(\"page.contextId\");\n\tvar record = $value(\"repeatAction.record\");\n\tvar roles = $value(\"roles.results\");\n\tvar hasRole = true;\n\tif (roles && record && record.roleIds) {\n\t\t// only assignment to a guest role that you ownwill do\n\t\troles = roles.filter(function(x) { \n\t\t\treturn x.pseudo && x.name == role && x.ownerId != contextId;\n\t\t}).forEach(function(x) { \n\t\t\tif (record.roleIds.indexOf(x.id) >= 0) {\n\t\t\t\thasRole = false;\n\t\t\t}\n\t\t});\n\t}\n\treturn !hasRole;\n}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"table":{},"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{"accountId":"repeatAccount.record.id","actionId":"repeatAction.record.id","contextId":"page.contextId","roleId":"fixed.$guest"},"type":"operation","operation":"nabu.cms.core.v2.manage.security.context.action.add","resultName":"role"},{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"function() {\n\t// we get the role from the return of the add (which returns the role for pseudo stuff)\n\tvar role = $value(\"role\");\n\tvar roles = $value(\"roles\");\n\tif (!roles) {\n\t\troles = {\n\t\t\tresults: []\n\t\t}\n\t\t$value(\"$this\").set(\"roles\", roles);\n\t}\n\telse if (!roles.results) {\n\t\tVue.set(roles, \"results\", []);\n\t}\n\tvar hasRole = roles.results.filter(function(x) {\n\t\treturn x.id == role.id;\n\t}).length > 0;\n\tif (!hasRole) {\n\t\troles.results.push(role);\n\t}\n\tvar record = $value(\"repeatAction.record\");\n\tif (!record.roleIds) {\n\t\tVue.set(record, \"roleIds\", []);\n\t}\n\trecord.roleIds.push(role.id);\n}"}],"trigger":"update","condition":"!!$value(\"value\")"},{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{"actionId":"repeatAction.record.id","contextId":"page.contextId","roleId":"fixed.=function() {\n\tvar role = \"$guest\";\n\tvar contextId = $value(\"page.contextId\");\n\tvar record = $value(\"repeatAction.record\");\n\tvar roles = $value(\"roles.results\");\n\tvar roleId = null;\n\tif (roles && record && record.roleIds) {\n\t\t// only assignment to a guest role that you ownwill do\n\t\troles = roles.filter(function(x) { \n\t\t\treturn x.pseudo && x.name == role && x.ownerId == contextId;\n\t\t}).forEach(function(x) { \n\t\t\tif (record.roleIds.indexOf(x.id) >= 0) {\n\t\t\t\troleId = x.id;\n\t\t\t}\n\t\t});\n\t}\n\treturn roleId;\n}\n"},"type":"operation","operation":"nabu.cms.core.v2.manage.security.context.action.remove"},{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"function() {\n\tvar getRoleId = function() {\n\t\tvar role = \"$guest\";\n\t\tvar contextId = $value(\"page.contextId\");\n\t\tvar record = $value(\"repeatAction.record\");\n\t\tvar roles = $value(\"roles.results\");\n\t\tvar roleId = null;\n\t\tif (roles && record && record.roleIds) {\n\t\t\t// only assignment to a guest role that you ownwill do\n\t\t\troles = roles.filter(function(x) { \n\t\t\t\treturn x.pseudo && x.name == role && x.ownerId == contextId;\n\t\t\t}).forEach(function(x) { \n\t\t\t\tif (record.roleIds.indexOf(x.id) >= 0) {\n\t\t\t\t\troleId = x.id;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn roleId;\n\t}\n\tvar roleId = getRoleId();\n\tvar actionMemberships = $value(\"repeatAction.record.roleIds\");\n\tif (actionMemberships) {\n\t\tvar index = actionMemberships.indexOf(roleId);\n\t\tif (index >= 0) {\n\t\t\tactionMemberships.splice(index, 1);\n\t\t}\n\t}\n}"}],"trigger":"update","condition":"!$value(\"value\")"}]},{"id":462,"rows":[],"alias":"page-form-checkbox","bindings":{},"name":null,"state":{"bindings":{},"mustCheck":false,"useComputed":true,"computed":"function() {\n\tvar role = \"$user\";\n\tvar record = $value(\"repeatAction.record\");\n\tvar roles = $value(\"roles.results\");\n\tif (roles && record && record.roleIds) {\n\t\tvar hasRole = false;\n\t\t// _any_ guest role assignment will do\n\t\troles = roles.filter(function(x) { \n\t\t\treturn x.pseudo && x.name == role;\n\t\t}).forEach(function(x) { \n\t\t\tif (record.roleIds.indexOf(x.id) >= 0) {\n\t\t\t\thasRole = true;\n\t\t\t}\n\t\t});\n\t\treturn hasRole;\n\t}\n}","hideMode":null,"disabled":"function() {\n\tvar role = \"$user\";\n\tvar contextId = $value(\"page.contextId\");\n\tvar record = $value(\"repeatAction.record\");\n\tvar roles = $value(\"roles.results\");\n\tvar hasRole = true;\n\tif (roles && record && record.roleIds) {\n\t\t// only assignment to a guest role that you ownwill do\n\t\troles = roles.filter(function(x) { \n\t\t\treturn x.pseudo && x.name == role && x.ownerId != contextId;\n\t\t}).forEach(function(x) { \n\t\t\tif (record.roleIds.indexOf(x.id) >= 0) {\n\t\t\t\thasRole = false;\n\t\t\t}\n\t\t});\n\t}\n\treturn !hasRole;\n}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"table":{},"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{"accountId":"repeatAccount.record.id","actionId":"repeatAction.record.id","contextId":"page.contextId","roleId":"fixed.$user"},"type":"operation","operation":"nabu.cms.core.v2.manage.security.context.action.add","resultName":"role"},{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"function() {\n\t// we get the role from the return of the add (which returns the role for pseudo stuff)\n\tvar role = $value(\"role\");\n\tvar roles = $value(\"roles\");\n\tif (!roles) {\n\t\troles = {\n\t\t\tresults: []\n\t\t}\n\t\t$value(\"$this\").set(\"roles\", roles);\n\t}\n\telse if (!roles.results) {\n\t\tVue.set(roles, \"results\", []);\n\t}\n\tvar hasRole = roles.results.filter(function(x) {\n\t\treturn x.id == role.id;\n\t}).length > 0;\n\tif (!hasRole) {\n\t\troles.results.push(role);\n\t}\n\tvar record = $value(\"repeatAction.record\");\n\tif (!record.roleIds) {\n\t\tVue.set(record, \"roleIds\", []);\n\t}\n\trecord.roleIds.push(role.id);\n}"}],"trigger":"update","condition":"!!$value(\"value\")"},{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{"actionId":"repeatAction.record.id","contextId":"page.contextId","roleId":"fixed.=function() {\n\tvar role = \"$user\";\n\tvar contextId = $value(\"page.contextId\");\n\tvar record = $value(\"repeatAction.record\");\n\tvar roles = $value(\"roles.results\");\n\tvar roleId = null;\n\tif (roles && record && record.roleIds) {\n\t\t// only assignment to a guest role that you ownwill do\n\t\troles = roles.filter(function(x) { \n\t\t\treturn x.pseudo && x.name == role && x.ownerId == contextId;\n\t\t}).forEach(function(x) { \n\t\t\tif (record.roleIds.indexOf(x.id) >= 0) {\n\t\t\t\troleId = x.id;\n\t\t\t}\n\t\t});\n\t}\n\treturn roleId;\n}\n"},"type":"operation","operation":"nabu.cms.core.v2.manage.security.context.action.remove"},{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"function() {\n\tvar getRoleId = function() {\n\t\tvar role = \"$user\";\n\t\tvar contextId = $value(\"page.contextId\");\n\t\tvar record = $value(\"repeatAction.record\");\n\t\tvar roles = $value(\"roles.results\");\n\t\tvar roleId = null;\n\t\tif (roles && record && record.roleIds) {\n\t\t\t// only assignment to a guest role that you ownwill do\n\t\t\troles = roles.filter(function(x) { \n\t\t\t\treturn x.pseudo && x.name == role && x.ownerId == contextId;\n\t\t\t}).forEach(function(x) { \n\t\t\t\tif (record.roleIds.indexOf(x.id) >= 0) {\n\t\t\t\t\troleId = x.id;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn roleId;\n\t}\n\tvar roleId = getRoleId();\n\tvar actionMemberships = $value(\"repeatAction.record.roleIds\");\n\tif (actionMemberships) {\n\t\tvar index = actionMemberships.indexOf(roleId);\n\t\tif (index >= 0) {\n\t\t\tactionMemberships.splice(index, 1);\n\t\t}\n\t}\n}"}],"trigger":"update","condition":"!$value(\"value\")"}]},{"id":463,"rows":[],"alias":"page-form-checkbox","bindings":{},"name":null,"state":{"bindings":{},"mustCheck":false,"useComputed":true,"computed":"function() {\n\tvar role = \"$owner\";\n\tvar record = $value(\"repeatAction.record\");\n\tvar roles = $value(\"roles.results\");\n\tif (roles && record && record.roleIds) {\n\t\tvar hasRole = false;\n\t\t// _any_ guest role assignment will do\n\t\troles = roles.filter(function(x) { \n\t\t\treturn x.pseudo && x.name == role;\n\t\t}).forEach(function(x) { \n\t\t\tif (record.roleIds.indexOf(x.id) >= 0) {\n\t\t\t\thasRole = true;\n\t\t\t}\n\t\t});\n\t\treturn hasRole;\n\t}\n}","hideMode":null,"disabled":"function() {\n\tvar role = \"$owner\";\n\tvar contextId = $value(\"page.contextId\");\n\tvar record = $value(\"repeatAction.record\");\n\tvar roles = $value(\"roles.results\");\n\tvar hasRole = true;\n\tif (roles && record && record.roleIds) {\n\t\t// only assignment to a guest role that you ownwill do\n\t\troles = roles.filter(function(x) { \n\t\t\treturn x.pseudo && x.name == role && x.ownerId != contextId;\n\t\t}).forEach(function(x) { \n\t\t\tif (record.roleIds.indexOf(x.id) >= 0) {\n\t\t\t\thasRole = false;\n\t\t\t}\n\t\t});\n\t}\n\treturn !hasRole;\n}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"table":{},"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{"accountId":"repeatAccount.record.id","actionId":"repeatAction.record.id","contextId":"page.contextId","roleId":"fixed.$owner"},"type":"operation","operation":"nabu.cms.core.v2.manage.security.context.action.add","resultName":"role"},{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"function() {\n\t// we get the role from the return of the add (which returns the role for pseudo stuff)\n\tvar role = $value(\"role\");\n\tvar roles = $value(\"roles\");\n\tif (!roles) {\n\t\troles = {\n\t\t\tresults: []\n\t\t}\n\t\t$value(\"$this\").set(\"roles\", roles);\n\t}\n\telse if (!roles.results) {\n\t\tVue.set(roles, \"results\", []);\n\t}\n\tvar hasRole = roles.results.filter(function(x) {\n\t\treturn x.id == role.id;\n\t}).length > 0;\n\tif (!hasRole) {\n\t\troles.results.push(role);\n\t}\n\tvar record = $value(\"repeatAction.record\");\n\tif (!record.roleIds) {\n\t\tVue.set(record, \"roleIds\", []);\n\t}\n\trecord.roleIds.push(role.id);\n}"}],"trigger":"update","condition":"!!$value(\"value\")"},{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{"actionId":"repeatAction.record.id","contextId":"page.contextId","roleId":"fixed.=function() {\n\tvar role = \"$owner\";\n\tvar contextId = $value(\"page.contextId\");\n\tvar record = $value(\"repeatAction.record\");\n\tvar roles = $value(\"roles.results\");\n\tvar roleId = null;\n\tif (roles && record && record.roleIds) {\n\t\t// only assignment to a guest role that you ownwill do\n\t\troles = roles.filter(function(x) { \n\t\t\treturn x.pseudo && x.name == role && x.ownerId == contextId;\n\t\t}).forEach(function(x) { \n\t\t\tif (record.roleIds.indexOf(x.id) >= 0) {\n\t\t\t\troleId = x.id;\n\t\t\t}\n\t\t});\n\t}\n\treturn roleId;\n}\n"},"type":"operation","operation":"nabu.cms.core.v2.manage.security.context.action.remove"},{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"function() {\n\tvar getRoleId = function() {\n\t\tvar role = \"$owner\";\n\t\tvar contextId = $value(\"page.contextId\");\n\t\tvar record = $value(\"repeatAction.record\");\n\t\tvar roles = $value(\"roles.results\");\n\t\tvar roleId = null;\n\t\tif (roles && record && record.roleIds) {\n\t\t\t// only assignment to a guest role that you ownwill do\n\t\t\troles = roles.filter(function(x) { \n\t\t\t\treturn x.pseudo && x.name == role && x.ownerId == contextId;\n\t\t\t}).forEach(function(x) { \n\t\t\t\tif (record.roleIds.indexOf(x.id) >= 0) {\n\t\t\t\t\troleId = x.id;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn roleId;\n\t}\n\tvar roleId = getRoleId();\n\tvar actionMemberships = $value(\"repeatAction.record.roleIds\");\n\tif (actionMemberships) {\n\t\tvar index = actionMemberships.indexOf(roleId);\n\t\tif (index >= 0) {\n\t\t\tactionMemberships.splice(index, 1);\n\t\t}\n\t}\n}"}],"trigger":"update","condition":"!$value(\"value\")"}]},{"id":558,"rows":[{"id":560,"state":{},"cells":[{"id":561,"rows":[],"alias":"page-button","bindings":{},"name":"Update Action","state":{"content":"","icon":"pencil-alt","triggers":[{"trigger":"activate","actions":[{"type":"event","event":{"name":"updateAction","eventFields":[{"name":"record","fixedValue":null,"isFixed":false,"stateValue":"repeatAction.record"}]}}]}],"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"activationType":"route","fragments":{},"tooltip":"Update permission"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"page-button":{"variant":"ghost","modifiers":[],"options":[],"conditions":{}}}},"table":{},"triggers":[]}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"alias":null,"bindings":{},"name":"Local actions","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":"local-actions","modifiers":[],"options":[],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table Body Action","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"repeat-content":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"table-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"repeat-message":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"repeat-empty":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"repeat-loading":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":"repeat","rendererBindings":{"filter.limit":"fixed.10","filter.ownerId":"page.ownerId","filter.contextId":"page.permissionSearchContext","$serviceContext":null},"repeat":{"bindings":{},"operation":"nabu.cms.core.v2.manage.security.context.action.list","emptyPlaceholder":"%{No data available}","loadingPlaceholder":"%{Loading...}","selectable":true,"defaultOrderBy":[{"name":"name","direction":"asc"}],"enableParameterWatching":true,"type":"operation","customSlots":[],"arrayFilter":""},"runtimeAlias":"repeatAction","templateReferenceId":"nabu-templates-25","templateFragmentId":32},{"id":24,"state":{"hideMode":null},"cells":[{"id":25,"rows":[],"alias":"page-paging","bindings":{},"name":null,"state":{"target":18,"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-paging"},"paging-button":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"paging-menu":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"triggers":[],"table":{"colspan":"100"},"templateReferenceId":"nabu-templates-25","templateFragmentId":34}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table paging","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_center"],"conditions":{}},"table-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"rendererSlot":"footer","templateReferenceId":"nabu-templates-25","templateFragmentId":33,"closeable":false}],"alias":null,"bindings":{},"name":null,"state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"table":{"variant":null,"modifiers":["has-local-actions"],"options":[],"conditions":{}}}},"renderer":"table","rendererBindings":{},"isTemplate":false,"templateVersion":2,"templateId":null,"templateTitle":"Basic Table","templateCategory":"Nabu Templates","templateIcon":"table","templateStable":null,"isTemplateInstance":true,"templateReferenceId":"nabu-templates-25","templateFragmentId":30},{"id":26,"rows":[{"id":27,"state":{"hideMode":null},"cells":[{"id":163,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"visibility","closeableTarget":166,"closeableAction":"visible"}],"trigger":"activate"}],"fragments":{},"content":"%{New Permission}","activationType":"route"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"primary","modifiers":[],"options":[],"conditions":{}}}},"closeable":false,"triggers":[],"permission":"role.manage","permissionServiceContext":null,"permissionContext":"=$value(\"page.contextId\")"}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Global Actions","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_end","spacing_gap-xsmall"],"conditions":{}}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":36}],"alias":null,"bindings":{},"name":"Button container","state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":35}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Action Table","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_gap-medium","fill_normal"],"conditions":{}}}},"isTemplate":false,"templateVersion":3,"templateId":null,"templateTitle":"Full table","templateCategory":"Nabu Templates","templateIcon":"table","templateDescription":"A table with a title, space for filters,...","templateStable":null,"isTemplateInstance":true,"templateReferenceId":"nabu-templates-25","templateFragmentId":25}],"alias":null,"bindings":{},"name":"Permission card","state":{"hideMode":"toggle"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":["fill_normal","direction_horizontal","border_bottom","color_background","spacing_large"],"conditions":{},"defaultVariant":"page-column"}}},"closeable":true,"triggers":[]}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Cards","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}},{"id":204,"state":{"hideMode":"toggle"},"cells":[{"id":205,"rows":[{"id":110,"state":{"hideMode":null},"cells":[{"id":181,"rows":[{"id":182,"state":{"hideMode":null},"cells":[{"id":183,"rows":[],"alias":"typography-h5","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{},"content":"%{Browse}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-h5"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-h5"}}}},{"id":180,"rows":[],"alias":"typography-paragraph","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{},"content":"You can search for child entities either by name or a known external identifier<br>By default, you only see the direct child nodes. Once you enter a search parameter, the results can also contain nested children.<br>"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-paragraph"},"typography":{"variant":"subscript","modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-p"}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_gap-small"],"conditions":{}}}}}],"alias":null,"bindings":{},"name":"Header","state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"typography":{"variant":"subscript","modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-p"}}}},{"id":112,"rows":[{"id":113,"state":{},"cells":[{"id":127,"rows":[],"alias":"page-form-text","bindings":{},"name":"Q","state":{"name":"repeatChildren.filter.q","label":null,"timeout":600,"placeholder":"%{Search entities}","suffixIcon":"search","hideMode":null,"textType":null,"bindings":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":["width_min-xsmall"],"conditions":{},"defaultVariant":"page-column-page-form-text"},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table Filters","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["spacing_gap-small"],"conditions":{}}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":28}],"alias":null,"bindings":{},"name":"Filter container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":27},{"id":114,"rows":[{"id":115,"state":{},"cells":[{"id":128,"rows":[],"alias":"page-tag","bindings":{},"name":null,"state":{"field":"repeatChildren.filter.q","content":"%{Search}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-tag"},"page-tag":{"variant":"primary-dark-outline","modifiers":[],"options":["direction_reverse","decoration_emphasis"],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table Tags","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["spacing_gap-small"],"conditions":{}}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":38}],"alias":null,"bindings":{},"name":"Tag container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":37},{"id":117,"rows":[{"id":118,"state":{},"cells":[{"id":132,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"content":"%{Name}","sortFields":[{"name":"name"}],"target":120,"hideMode":null,"fragments":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button-sort"},"page-button-sort":{"variant":null,"modifiers":[],"options":["size_small","spacing_horizontal-sides-none","direction_reverse"],"conditions":{}},"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}},"table":{"colspan":null},"triggers":[]},{"id":434,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table header","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"rendererSlot":"header","excludeFromTemplate":false,"templateReferenceId":"nabu-templates-25","templateFragmentId":31},{"id":120,"state":{"hideMode":null},"cells":[{"id":206,"rows":[{"id":207,"state":{"hideMode":null},"cells":[{"id":131,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"content":"{name}","fragments":{"name":{"key":"repeatChildren.record.name","format":null,"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null}},"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-fragment"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}}},{"id":208,"rows":[],"alias":"page-badge","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{"component":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatChildren.record.componentId","format":"resolve","resolveOperationBinding":{},"resolveOperation":"nabu.cms.core.v2.manage.basic.crud.component.services.list","resolveOperationLabel":"name","resolveOperationId":"id","resolveOperationIds":"id"}},"content":"{component}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-badge"},"page-badge":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_cross-center","spacing_gap-small"],"conditions":{}}}},"triggers":[]}],"alias":null,"bindings":{},"name":"Wrapper for Fragment","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":["empty"],"options":[],"conditions":{"empty":"$value(\"repeatChildren.record.name\") == null"}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}}},{"id":135,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"content":"","hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":"security-context","mask":false,"anchor":null,"activeRoutes":[],"bindings":{"contextId":"repeatChildren.record.id","serviceContext":"page.serviceContext"},"type":"route"}],"trigger":"activate"}],"fragments":{},"icon":"chevron-right","activationType":"route","tooltip":"View entity context"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{"border_none":null,"small":null}},"page-button":{"variant":"ghost","modifiers":[],"options":[],"conditions":{"size_small":null}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table Body Children","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"repeat-content":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"table-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":"repeat","rendererBindings":{"filter.limit":"fixed.10","filter.contextId":"page.contextId"},"repeat":{"bindings":{},"operation":"nabu.cms.core.v2.manage.security.context.children","emptyPlaceholder":"%{No child entities available}","loadingPlaceholder":"%{Loading...}","selectable":true,"defaultOrderBy":[{"name":"name","direction":"asc"}]},"runtimeAlias":"repeatChildren","templateReferenceId":"nabu-templates-25","templateFragmentId":32,"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"var selected = $value(\"page.repeatChildren.selected\");\nif (selected && selected.length) {\n\t$value(\"page.$this\").set(\"securityRuleContext\", selected[0]);\n}"}],"trigger":"select"}]},{"id":121,"state":{},"cells":[{"id":122,"rows":[],"alias":"page-paging","bindings":{},"name":null,"state":{"target":120},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-paging"},"paging-button":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"paging-menu":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"triggers":[],"table":{"colspan":"100"},"templateReferenceId":"nabu-templates-25","templateFragmentId":34}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table paging","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_center"],"conditions":{}}}},"rendererSlot":"footer","templateReferenceId":"nabu-templates-25","templateFragmentId":33}],"alias":null,"bindings":{},"name":null,"state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"table":{"variant":null,"modifiers":["has-local-actions"],"options":[],"conditions":{}}}},"renderer":"table","rendererBindings":{},"isTemplate":false,"templateVersion":2,"templateId":null,"templateTitle":"Basic Table","templateCategory":"Nabu Templates","templateIcon":"table","templateStable":null,"isTemplateInstance":true,"templateReferenceId":"nabu-templates-25","templateFragmentId":30},{"id":123,"rows":[{"id":124,"state":{"hideMode":null},"cells":[],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Global Actions","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_end"],"conditions":{}}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":36}],"alias":null,"bindings":{},"name":"Button container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":35}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Children Table","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_gap-medium"],"conditions":{}}}},"isTemplate":false,"templateVersion":3,"templateId":null,"templateTitle":"Full table","templateCategory":"Nabu Templates","templateIcon":"table","templateDescription":"A table with a title, space for filters,...","templateStable":null,"isTemplateInstance":true,"templateReferenceId":"nabu-templates-25","templateFragmentId":25}],"alias":null,"bindings":{},"name":"Browse card","state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":["fill_normal","color_background","spacing_large","border_bottom","border_right"],"conditions":{"width_min-medium":null,"width_max-medium":null},"defaultVariant":"page-column"}}},"closeable":false},{"id":34,"rows":[{"id":36,"state":{"hideMode":null},"cells":[{"id":184,"rows":[{"id":185,"state":{"hideMode":null},"cells":[{"id":364,"rows":[{"id":365,"state":{},"cells":[{"id":186,"rows":[],"alias":"typography-h5","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{"context":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"page.securityRuleContext.name"}},"content":"%{Security rules for {context}}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-h5"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-h5"}}}},{"id":366,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":"script","bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"var selected = $value(\"page.context\");\n$value(\"page.$this\").set(\"securityRuleContext\", selected);\n"}],"trigger":"activate"}],"fragments":{"context":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"context.name"}},"content":"%{Show rules for {context}}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":"$value(\"page.securityRuleContext.id\") != $value(\"page.contextId\")","devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":["position_right"],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"warning-outline","modifiers":[],"options":["size_xsmall"],"conditions":{}}}},"closeable":false}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null}],"alias":null,"bindings":{},"name":"Wrapper for H5","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-h5"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-h5"}}}},{"id":187,"rows":[],"alias":"typography-paragraph","bindings":{},"name":"Description","state":{"hideMode":null,"fragments":{},"content":"Manage the security rules for this entity.<br>Most permission checks are contextually relevant. You may be able to \"list sales\" for one company but not the other.<br>When you enable a role in a particular context, the user will be able to run the related permissions in that context.<br>Note that security rules are inherited for child entities.<br>"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-paragraph"},"typography":{"variant":"subscript","modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-p"}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_gap-small"],"conditions":{}}}}}],"alias":null,"bindings":{},"name":"Header","state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"typography":{"variant":"subscript","modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-p"}}}},{"id":38,"rows":[{"id":39,"state":{},"cells":[{"id":53,"rows":[],"alias":"page-form-text","bindings":{},"name":"Q","state":{"name":"repeatAccount.filter.q","label":null,"timeout":600,"placeholder":"%{Search users}","suffixIcon":"search","hideMode":null,"textType":null,"bindings":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":["width_min-xsmall"],"conditions":{},"defaultVariant":"page-column-page-form-text"},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table Filters","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["spacing_gap-small"],"conditions":{}}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":28}],"alias":null,"bindings":{},"name":"Filter container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":27},{"id":40,"rows":[{"id":41,"state":{},"cells":[{"id":58,"rows":[],"alias":"page-tag","bindings":{},"name":null,"state":{"field":"repeatAccount.filter.q","content":"%{Search}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-tag"},"page-tag":{"variant":"primary-dark-outline","modifiers":[],"options":["direction_reverse","decoration_emphasis"],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table Tags","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["spacing_gap-small"],"conditions":{}}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":38}],"alias":null,"bindings":{},"name":"Tag container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":37},{"id":43,"rows":[{"id":44,"state":{},"cells":[{"id":62,"rows":[],"alias":"page-button-sort","bindings":{},"name":null,"state":{"content":"%{Alias}","sortFields":[{"name":"alias"}],"target":46,"hideMode":null,"fragments":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button-sort"},"page-button-sort":{"variant":null,"modifiers":[],"options":["size_small","spacing_horizontal-sides-none","direction_reverse"],"conditions":{}},"table-column":{"variant":null,"modifiers":[],"options":["align_bottom"],"conditions":{}}}}},{"id":69,"rows":[{"id":70,"state":{},"cells":[{"id":71,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{"role":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatRoleAccount.record.name"}},"content":"{role}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-fragment"},"typography":{"variant":null,"modifiers":[],"options":["rotate_90deg-reverse"],"conditions":{},"defaultVariant":"typography-span"}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null}],"alias":null,"bindings":{},"name":null,"state":{"hideMode":null,"fragments":{"role":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatRole.record.name"}},"content":"{role}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":[],"options":["direction_horizontal","align_bottom"],"conditions":{}},"repeat-content":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}},"table":{},"renderer":"repeat","repeat":{"bindings":{},"defaultOrderBy":[],"operation":null,"array":"page.publicRoles"},"rendererBindings":{},"runtimeAlias":"repeatRoleAccount"}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table header","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"rendererSlot":"header","excludeFromTemplate":false,"templateReferenceId":"nabu-templates-25","templateFragmentId":31},{"id":76,"state":{"hideMode":null},"cells":[{"id":77,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{},"content":"%{Show only users that have}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":[],"options":["color_primary-dark-outline"],"conditions":{}},"typography":{"variant":null,"modifiers":[],"options":["decoration_emphasis","spacing_vertical-small"],"conditions":{},"defaultVariant":"typography-span"}}},"table":{"colspan":null}},{"id":79,"rows":[{"id":80,"state":{"hideMode":null},"cells":[{"id":81,"rows":[],"alias":"page-smart-check","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{"role":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatRole.record.name"}},"content":"{role}","bindings":{},"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"function() {\n\tvar limit = $value(\"page.limitAccountToRoleIds\");\n\tif (!limit) {\n\t\tlimit = [];\n\t\t$value(\"page.$this\").set(\"limitAccountToRoleIds\", limit);\n\t}\n\tvar roleId = $value(\"repeatRoleAccountFilter.record.id\")\n\tif (limit.indexOf(roleId) < 0) {\n\t\tlimit.push(roleId);\n\t}\n}"}],"trigger":"check"},{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"function() {\n\tvar limit = $value(\"page.limitAccountToRoleIds\");\n\tif (!limit) {\n\t\tlimit = [];\n\t\t$value(\"page.$this\").set(\"limitAccountToRoleIds\", limit);\n\t}\n\tvar roleId = $value(\"repeatRoleAccountFilter.record.id\")\n\tvar index = limit.indexOf(roleId);\n\tif (index >= 0) {\n\t\tlimit.splice(index, 1);\n\t}\n}"}],"trigger":"clear"}],"checkCondition":"function() {\n\tvar limit = $value(\"page.limitAccountToRoleIds\");\n\tvar roleId = $value(\"repeatRoleAccountFilter.record.id\")\n\treturn limit && limit.indexOf(roleId) >= 0;\n}","disabledCondition":"","label":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-smart-check"},"typography":{"variant":null,"modifiers":[],"options":["rotate_90deg-reverse"],"conditions":{},"defaultVariant":"typography-span"},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"table":{}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"alias":null,"bindings":{},"name":null,"state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":["small"],"options":[],"conditions":{}},"repeat-content":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"table":{},"renderer":"repeat","repeat":{"bindings":{},"defaultOrderBy":[],"operation":null,"array":"page.publicRoles"},"rendererBindings":{},"runtimeAlias":"repeatRoleAccountFilter"}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"filtering","aris":{"components":{"table-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"rendererSlot":null},{"id":46,"state":{"hideMode":null},"cells":[{"id":65,"rows":[{"id":359,"state":{"hideMode":null},"cells":[{"id":360,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"content":"{email}","fragments":{"email":{"key":"repeatAccount.record.email","format":null,"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null},"alias":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatAccount.record.alias"},"e":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null}},"hideMode":"script"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":"$value(\"repeatAccount.record.email\")","devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-fragment"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}},"closeable":false},{"id":361,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"content":"{phone}","fragments":{"email":{"key":"repeatAccount.record.email","format":null,"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null},"alias":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatAccount.record.alias"},"e":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null},"phone":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatAccount.record.phoneNumber"}},"hideMode":"script"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":"!$value(\"repeatAccount.record.email\")\n\t&& $value(\"repeatAccount.record.phoneNumber\")","devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-fragment"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}},"closeable":false},{"id":362,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"content":"{alias}","fragments":{"email":{"key":"repeatAccount.record.email","format":null,"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null},"alias":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatAccount.record.alias"}},"hideMode":"script"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":"!$value(\"repeatAccount.record.email\")\n\t&& !$value(\"repeatAccount.record.phoneNumber\")","devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-fragment"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}},"closeable":false,"triggers":[]},{"id":363,"rows":[],"alias":"page-badge","bindings":{},"name":null,"state":{"content":"{givenName} {familyName}","fragments":{"alias":{"key":"repeatAccount.record.alias","format":null,"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null},"givenName":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatAccount.record.givenName"},"familyName":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatAccount.record.familyName"}},"hideMode":"script"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":"$value(\"repeatAccount.record.familyName\") != null","devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":["empty"],"options":[],"conditions":{"empty":"$value(\"repeatAccount.record.alias\") == null"}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"},"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-badge"},"page-badge":{"variant":"primary-dark-outline","modifiers":[],"options":[],"conditions":{}}}},"closeable":false}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["spacing_vertical-small","spacing_gap-small","align_cross-center"],"conditions":{}}}}}],"alias":null,"bindings":{},"name":"Wrapper for Fragment","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":["empty"],"options":[],"conditions":{"empty":"$value(\"repeatAccount.record.email\") == null"}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}}},{"id":72,"rows":[{"id":73,"state":{"hideMode":null},"cells":[{"id":74,"rows":[],"alias":"page-smart-check","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{"role":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatRole.record.name"}},"content":"{role}","bindings":{},"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{"actionId":"repeatAction.record.id","roleId":"repeatRoleMembershipAccount.record.id","contextId":"page.securityRuleContext.id","accountId":"repeatAccount.record.id","$serviceContext":null},"type":"operation","operation":"nabu.cms.core.v2.manage.security.context.account.add"},{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"function() {\n\tvar roleId = $value(\"repeatRoleMembershipAccount.record.id\")\n\tvar memberships = $value(\"repeatAccount.record.memberships\");\n\tif (!memberships) {\n\t\tvar record = $value(\"repeatAccount.record\");\n\t\tmemberships = [];\n\t\tVue.set(record, \"memberships\", memberships);\n\t}\n\tmemberships.push({\n\t\troleId: roleId\n\t});\n}"}],"trigger":"check"},{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{"actionId":"repeatAction.record.id","roleId":"repeatRoleMembershipAccount.record.id","contextId":"page.securityRuleContext.id","accountId":"repeatAccount.record.id","$serviceContext":null},"type":"operation","operation":"nabu.cms.core.v2.manage.security.context.account.remove"},{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"function() {\n\tvar roleId = $value(\"repeatRoleMembershipAccount.record.id\")\n\tvar memberships = $value(\"repeatAccount.record.memberships\");\n\tif (memberships) {\n\t\tvar existing = memberships.filter(function(x) {\n\t\t\treturn x.roleId == roleId;\n\t\t})[0];\n\t\tif (existing) {\n\t\t\tmemberships.splice(memberships.indexOf(existing), 1);\n\t\t}\n\t}\n}"}],"trigger":"clear"}],"checkCondition":"function() {\n\tvar roleId = $value(\"repeatRoleMembershipAccount.record.id\")\n\tvar memberships = $value(\"repeatAccount.record.memberships\");\n\tif (!memberships) {\n\t\treturn false;\n\t}\n\telse {\n\t\treturn memberships.filter(function(x) {\n\t\t\treturn x.roleId == roleId;\n\t\t}).length > 0;\n\t}\n}","disabledCondition":"function() {\n\t// if we have the role and it is inherited, we can't uncheck it\n\tvar roleId = $value(\"repeatRoleMembershipAccount.record.id\")\n\tvar memberships = $value(\"repeatAccount.record.memberships\");\n\tif (memberships) {\n\t\tvar existing = memberships.filter(function(x) {\n\t\t\treturn x.roleId == roleId;\n\t\t})[0];\n\t\tif (existing && existing.inherited == true) {\n\t\t\treturn true;\n\t\t}\n\t}\n\t// otherwise, if the role has feature restrictions, check that the node has them\n\tvar limitingTags = $value(\"repeatRoleMembershipAccount.record.tagIds\");\n\t// check whether the node has it\n\tif (limitingTags && limitingTags.length > 0) {\n\t\tvar tags = $value(\"page.context.tags\");\n\t\tvar childTags = $value(\"page.context.childTagDefinitionIds\");\n\t\tif (tags) {\n\t\t\tvar matchingTags = tags.filter(function(x) {\n\t\t\t\treturn limitingTags.indexOf(x.definitionId) >= 0;\n\t\t\t});\n\t\t\t// you have the tag, it's ok\n\t\t\tif (matchingTags.length > 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tif (childTags) {\n\t\t\tvar matchingChildTags = childTags.filter(function(x) {\n\t\t\t\treturn limitingTags.indexOf(x) >= 0;\n\t\t\t});\n\t\t\t// one of your children has the tag, it's ok\n\t\t\tif (matchingChildTags.length > 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\treturn false;\n}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-smart-check"},"typography":{"variant":null,"modifiers":[],"options":["rotate_90deg-reverse"],"conditions":{},"defaultVariant":"typography-span"},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"table":{}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"alias":null,"bindings":{},"name":null,"state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"repeat-content":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"table":{},"renderer":"repeat","repeat":{"bindings":{},"defaultOrderBy":[],"operation":null,"array":"page.publicRoles"},"rendererBindings":{},"runtimeAlias":"repeatRoleMembershipAccount"}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table Body Account","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"repeat-content":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"table-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":"repeat","rendererBindings":{"filter.limit":"fixed.10","filter.roleId":"roles.results.id","filter.contextId":"page.securityRuleContext.id","filter.requiredRoleId":"page.limitAccountToRoleIds"},"repeat":{"bindings":{},"operation":"nabu.cms.core.v2.manage.security.context.account.list","emptyPlaceholder":"%{No users found}","loadingPlaceholder":"%{Loading...}","selectable":false,"defaultOrderBy":[{"name":"alias","direction":"asc"}],"enableParameterWatching":true},"runtimeAlias":"repeatAccount","templateReferenceId":"nabu-templates-25","templateFragmentId":32},{"id":193,"state":{"hideMode":"toggle"},"cells":[{"id":194,"rows":[{"id":195,"state":{"hideMode":null},"cells":[{"id":200,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{},"content":"%{Add user}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-fragment"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}}},{"id":196,"rows":[],"alias":"page-form-enumeration-operation","bindings":{},"name":null,"state":{"hideMode":null,"enumerationProvider":null,"enumerationOperation":"nabu.cms.core.v2.manage.security.account.read.contexts","enumerationOperationLabel":"name","enumerationOperationValue":"id","enumerationOperationQuery":null,"enumerationOperationBinding":{},"name":"contextToAddUserFrom","placeholder":"%{Context to find user in}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-form-enumeration-operation"},"form-component":{"variant":null,"modifiers":[],"options":["size_small"],"conditions":{}}}}},{"id":197,"rows":[],"alias":"page-form-enumeration-operation","bindings":{},"name":null,"state":{"hideMode":"script","enumerationProvider":null,"enumerationOperation":"nabu.cms.core.v2.manage.security.account.read.list","enumerationOperationLabel":null,"enumerationOperationValue":null,"enumerationOperationQuery":"q","enumerationOperationBinding":{"contextId":"page.contextToAddUserFrom"},"enumerationOperationLabelComplex":true,"complexLabel":"{alias} ({givenName} {familyName})","fragments":{"alias":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"alias"},"givenName":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"givenName"},"familyName":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"familyName"}},"name":"accountToAdd","placeholder":"%{The user you want to add}","emptyValue":"%{No users found in that context}","calculatingValue":"%{Loading users...}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":"!!$value(\"page.contextToAddUserFrom\")","devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-form-enumeration-operation"},"form-component":{"variant":null,"modifiers":[],"options":["size_small"],"conditions":{}}}},"closeable":false},{"id":201,"rows":[{"id":202,"state":{"hideMode":null},"cells":[{"id":198,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"var target = $value(\"repeatAccount.records\");\nvar source = $value(\"page.accountToAdd\");\n\ntarget.push(source);\n// unset it, very unlikely you want to add it again...\n$value(\"page.$this\").set(\"accountToAdd\", null);"},{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"visibility","closeableTarget":193,"closeableAction":"hidden"}],"trigger":"activate"}],"fragments":{},"content":"%{Add}","disabled":"!$value(\"page.accountToAdd\")"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"primary","modifiers":[],"options":["size_small"],"conditions":{}}}}},{"id":199,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"visibility","closeableTarget":193,"closeableAction":"hidden"}],"trigger":"activate"}],"fragments":{},"content":"%{Cancel}","disabled":""},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"link","modifiers":[],"options":["size_small"],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_cross-center"],"conditions":{}}}}}],"alias":null,"bindings":{},"name":"Wrapper for Button","state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"page-button":{"variant":"primary","modifiers":[],"options":["size_small"],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["spacing_gap-medium","align_cross-center"],"conditions":{}},"form":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"form-container":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":null,"form":{"bindings":{},"fields":[],"formType":null,"operation":null},"rendererBindings":{},"runtimeAlias":null}],"alias":null,"bindings":{},"name":null,"state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"form":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"form-container":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"table":{"colspan":"100"},"renderer":null,"form":{"bindings":{},"fields":[]},"rendererBindings":{}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Adding user","aris":{"components":{"table-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"closeable":true},{"id":47,"state":{},"cells":[{"id":48,"rows":[],"alias":"page-paging","bindings":{},"name":null,"state":{"target":46,"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-paging"},"paging-button":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"paging-menu":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"triggers":[],"table":{"colspan":"100"},"templateReferenceId":"nabu-templates-25","templateFragmentId":34}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table paging","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_center"],"conditions":{}}}},"rendererSlot":"footer","templateReferenceId":"nabu-templates-25","templateFragmentId":33}],"alias":null,"bindings":{},"name":null,"state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"table":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":"table","rendererBindings":{},"isTemplate":false,"templateVersion":2,"templateId":null,"templateTitle":"Basic Table","templateCategory":"Nabu Templates","templateIcon":"table","templateStable":null,"isTemplateInstance":true,"templateReferenceId":"nabu-templates-25","templateFragmentId":30},{"id":49,"rows":[{"id":50,"state":{},"cells":[{"id":192,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"visibility","closeableTarget":193,"closeableAction":"visible"}],"trigger":"activate"}],"fragments":{},"content":"%{Add user}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"primary","modifiers":[],"options":[],"conditions":{}}}},"closeable":false}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Global Actions","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_end"],"conditions":{}}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":36}],"alias":null,"bindings":{},"name":"Button container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":35}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Account Table","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_gap-medium","fill_normal","spacing_large"],"conditions":{}}}},"isTemplate":false,"templateVersion":3,"templateId":null,"templateTitle":"Full table","templateCategory":"Nabu Templates","templateIcon":"table","templateDescription":"A table with a title, space for filters,...","templateStable":null,"isTemplateInstance":true,"templateReferenceId":"nabu-templates-25","templateFragmentId":25}],"alias":null,"bindings":{},"name":"Entities card","state":{"hideMode":"toggle"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":["fill_normal","direction_horizontal","border_bottom","color_background"],"conditions":{},"defaultVariant":"page-column"}}},"closeable":true}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Browse","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"closeable":true},{"id":107,"state":{"hideMode":null},"cells":[{"id":136,"rows":[],"alias":"security-context-accounts","bindings":{"contextId":"page.contextId","roles":"page.roles","context":"page.context","$serviceContext":null,"serviceContext":"page.serviceContext"},"name":null,"state":{"hideMode":"toggle"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":["fill_normal"],"conditions":{},"defaultVariant":"page-column-security-context-accounts"}},"rerender":true},"closeable":true}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Cards","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}},{"id":147,"state":{"hideMode":null},"cells":[{"id":149,"rows":[{"id":150,"state":{"hideMode":null},"cells":[{"id":151,"rows":[{"id":152,"state":{},"cells":[{"id":153,"rows":[],"alias":"typography-h2","bindings":{},"name":"Form title","state":{"content":"%{New Role}","fragments":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-h2"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-h2"}}},"templateReferenceId":"form-templates-2","templateFragmentId":16},{"id":154,"rows":[],"alias":"page-button","bindings":{},"name":"Close button","state":{"bindings":{},"actionTarget":null,"activeRoutes":[],"clickEvent":{"eventFields":[],"name":null},"fragments":{},"icon":"times","emitClose":false,"content":"","triggers":[{"actions":[],"trigger":"activate","closeEvent":true}]},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"ghost","modifiers":[],"options":["position_right"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":17}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_space-between"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":15}],"alias":null,"bindings":{},"name":"Title container","state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"form-templates-2","templateFragmentId":14},{"id":155,"rows":[{"id":156,"state":{},"cells":[{"id":161,"rows":[],"alias":"page-form-text","bindings":{},"name":"Name","state":{"name":"formCreateRole.body.name","label":"%{Name}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Form fields","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_vertical-gap-medium"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":19}],"alias":null,"bindings":{},"name":"Field Container","state":{"fileTypes":[],"name":"documentForm.body.content","contentType":"documentForm.body.contentType","fileName":"documentForm.body.contentName"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}},"rerender":true},"templateReferenceId":"form-templates-2","templateFragmentId":18},{"id":157,"rows":[{"id":158,"state":{"handledEvent":{"eventFields":[],"name":null}},"cells":[{"id":159,"rows":[],"alias":"page-button","bindings":{},"name":"Submit button","state":{"content":"%{New}","bindings":{},"actionTarget":149,"activeRoutes":[],"clickEvent":{"eventFields":[],"name":null},"fragments":{},"action":"submit","actionEvent":"addedDocument","triggers":[{"actions":[{"event":null,"url":null,"action":"submit","actionTarget":149,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"action"},{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"$value(\"page.$this\").loadState(\"roles\").then(function(x) {\n\t$value(\"page.$this\").loadState(\"publicRoles\");\n})"}],"trigger":"activate","closeEvent":true}],"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"primary","modifiers":[],"options":[],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":22},{"id":160,"rows":[],"alias":"page-button","bindings":{},"name":"Cancel button","state":{"bindings":{},"actionTarget":null,"activeRoutes":[],"clickEvent":{"eventFields":[],"name":null},"fragments":{},"content":"%{Cancel}","emitClose":false,"triggers":[{"actions":[],"trigger":"activate","closeEvent":true}]},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"neutral","modifiers":[],"options":[],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":23}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Global actions","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"renderer-menu":{"variant":null,"modifiers":[],"options":["spacing_horizontal-gap-large","align_space-between"],"conditions":{}}}},"renderer":"menu","rendererBindings":{},"templateReferenceId":"form-templates-2","templateFragmentId":21}],"alias":null,"bindings":{},"name":"Form menu","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"form-templates-2","templateFragmentId":20}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_vertical-gap-large"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":13}],"alias":null,"bindings":{},"name":"New Role Form","state":{"hideMode":"toggle"},"target":"prompt","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":{"eventFields":[],"name":null},"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"form":{"variant":"vertical","modifiers":[],"options":["shadow_xsmall","color_background","spacing_large"],"conditions":{}},"form-container":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":"form","rendererBindings":{"contextId":"page.contextId"},"form":{"formType":"operation","operation":"nabu.cms.core.v2.manage.security.context.role.create","bindings":{},"fields":[]},"runtimeAlias":"formCreateRole","isTemplate":false,"templateVersion":4,"templateId":null,"templateTitle":"Popup Form Template","templateCategory":"Nabu Templates","templateStable":null,"isTemplateInstance":true,"templateReferenceId":"form-templates-2","templateFragmentId":12,"closeable":true,"triggers":[]},{"id":166,"rows":[{"id":167,"state":{},"cells":[{"id":168,"rows":[{"id":169,"state":{},"cells":[{"id":170,"rows":[],"alias":"typography-h2","bindings":{},"name":"Form title","state":{"content":"%{New Permission}","fragments":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-h2"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-h2"}}},"templateReferenceId":"form-templates-2","templateFragmentId":16},{"id":171,"rows":[],"alias":"page-button","bindings":{},"name":"Close button","state":{"bindings":{},"actionTarget":null,"activeRoutes":[],"clickEvent":{"eventFields":[],"name":null},"fragments":{},"icon":"times","emitClose":false,"content":"","triggers":[{"actions":[],"trigger":"activate","closeEvent":true}]},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"ghost","modifiers":[],"options":["position_right"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":17}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_space-between"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":15}],"alias":null,"bindings":{},"name":"Title container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"form-templates-2","templateFragmentId":14},{"id":172,"rows":[{"id":173,"state":{},"cells":[{"id":178,"rows":[],"alias":"page-form-text","bindings":{},"name":"Name","state":{"name":"formCreateAction.body.name","label":"%{Name}","hideMode":null,"textType":null,"bindings":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-form-text"},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}},{"id":539,"rows":[],"alias":"page-form-text","bindings":{},"name":"Description","state":{"name":"formCreateAction.body.description","label":"%{Description}","hideMode":null,"textType":"area","bindings":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Form fields","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_vertical-gap-medium"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":19}],"alias":null,"bindings":{},"name":"Field Container","state":{"fileTypes":[],"name":"documentForm.body.content","contentType":"documentForm.body.contentType","fileName":"documentForm.body.contentName"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}},"rerender":true},"templateReferenceId":"form-templates-2","templateFragmentId":18},{"id":174,"rows":[{"id":175,"state":{"handledEvent":{"eventFields":[],"name":null}},"cells":[{"id":176,"rows":[],"alias":"page-button","bindings":{},"name":"Submit button","state":{"content":"%{Create}","bindings":{},"actionTarget":166,"activeRoutes":[],"clickEvent":{"eventFields":[],"name":null},"fragments":{},"action":"submit","actionEvent":"addedDocument","triggers":[{"actions":[{"event":null,"url":null,"action":"submit","actionTarget":166,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"action"}],"trigger":"activate","closeEvent":true}],"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"primary","modifiers":[],"options":[],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":22},{"id":177,"rows":[],"alias":"page-button","bindings":{},"name":"Cancel button","state":{"bindings":{},"actionTarget":null,"activeRoutes":[],"clickEvent":{"eventFields":[],"name":null},"fragments":{},"content":"%{Cancel}","emitClose":false,"triggers":[{"actions":[],"trigger":"activate","closeEvent":true}]},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"neutral","modifiers":[],"options":[],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":23}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Global actions","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"renderer-menu":{"variant":null,"modifiers":[],"options":["spacing_horizontal-gap-large","align_space-between"],"conditions":{}}}},"renderer":"menu","rendererBindings":{},"templateReferenceId":"form-templates-2","templateFragmentId":21}],"alias":null,"bindings":{},"name":"Form menu","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"form-templates-2","templateFragmentId":20}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_vertical-gap-large"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":13}],"alias":null,"bindings":{},"name":"New permission form","state":{"hideMode":"toggle"},"target":"prompt","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":{"eventFields":[],"name":null},"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"form":{"variant":"vertical","modifiers":[],"options":["shadow_xsmall","color_background","spacing_large"],"conditions":{}},"form-container":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":"form","rendererBindings":{"contextId":"page.contextId"},"form":{"formType":"operation","operation":"nabu.cms.core.v2.manage.security.context.action.create","bindings":{},"fields":[],"codes":[]},"runtimeAlias":"formCreateAction","isTemplate":false,"templateVersion":4,"templateId":null,"templateTitle":"Popup Form Template","templateCategory":"Nabu Templates","templateStable":null,"isTemplateInstance":true,"templateReferenceId":"form-templates-2","templateFragmentId":12,"closeable":true,"triggers":[{"actions":[{"event":null,"url":null,"action":"refresh","actionTarget":18,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"action"}],"trigger":"submit:after"}]},{"id":437,"rows":[{"id":438,"state":{},"cells":[{"id":439,"rows":[{"id":440,"state":{},"cells":[{"id":441,"rows":[],"alias":"typography-h2","bindings":{},"name":"Form title","state":{"content":"%{Update Role}","fragments":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-h2"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-h2"}}},"templateReferenceId":"form-templates-2","templateFragmentId":16},{"id":442,"rows":[],"alias":"page-button","bindings":{},"name":"Close button","state":{"bindings":{},"actionTarget":null,"activeRoutes":[],"clickEvent":{"eventFields":[],"name":null},"fragments":{},"icon":"times","emitClose":false,"content":"","triggers":[{"actions":[],"trigger":"activate","closeEvent":true}]},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"ghost","modifiers":[],"options":["position_right"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":17}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_space-between"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":15}],"alias":null,"bindings":{},"name":"Title container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"form-templates-2","templateFragmentId":14},{"id":443,"rows":[{"id":444,"state":{},"cells":[{"id":450,"rows":[],"alias":"page-form-text","bindings":{},"name":"Name","state":{"name":"formUpdateRole.body.name","label":"%{Name}","hideMode":null,"textType":null,"bindings":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}}},{"id":449,"rows":[],"alias":"page-form-text","bindings":{},"name":"Description","state":{"name":"formUpdateRole.body.description","label":"%{Description}","hideMode":null,"textType":"area","bindings":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Form fields","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_vertical-gap-medium"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":19}],"alias":null,"bindings":{},"name":"Field Container","state":{"fileTypes":[],"name":"documentForm.body.content","contentType":"documentForm.body.contentType","fileName":"documentForm.body.contentName"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}},"rerender":true},"templateReferenceId":"form-templates-2","templateFragmentId":18},{"id":445,"rows":[{"id":446,"state":{"handledEvent":{"eventFields":[],"name":null}},"cells":[{"id":447,"rows":[],"alias":"page-button","bindings":{},"name":"Submit button","state":{"content":"%{Update}","bindings":{},"actionTarget":437,"activeRoutes":[],"clickEvent":{"eventFields":[],"name":null},"fragments":{},"action":"submit","actionEvent":"addedDocument","triggers":[{"actions":[{"event":null,"url":null,"action":"submit","actionTarget":437,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"action"}],"trigger":"activate","closeEvent":true}],"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"primary","modifiers":[],"options":[],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":22,"triggers":[]},{"id":448,"rows":[],"alias":"page-button","bindings":{},"name":"Cancel button","state":{"bindings":{},"actionTarget":null,"activeRoutes":[],"clickEvent":{"eventFields":[],"name":null},"fragments":{},"content":"%{Cancel}","emitClose":false,"triggers":[{"actions":[],"trigger":"activate","closeEvent":true}],"activationType":"route"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"neutral","modifiers":[],"options":[],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":23}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Global actions","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"renderer-menu":{"variant":null,"modifiers":[],"options":["spacing_horizontal-gap-large","align_space-between"],"conditions":{}}}},"renderer":"menu","rendererBindings":{},"templateReferenceId":"form-templates-2","templateFragmentId":21}],"alias":null,"bindings":{},"name":"Form menu","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"form-templates-2","templateFragmentId":20}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_vertical-gap-large"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":13}],"alias":null,"bindings":{},"name":"Update role form","state":{"hideMode":"event"},"target":"prompt","on":"editRole","class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":{"eventFields":[],"name":null},"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"form":{"variant":"vertical","modifiers":[],"options":["shadow_xsmall","color_background","spacing_large"],"conditions":{}},"form-container":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":"form","rendererBindings":{"body":"editRole.record","contextId":"page.contextId","roleId":"editRole.record.id"},"form":{"formType":"operation","operation":"nabu.cms.core.v2.manage.security.context.role.update","bindings":{},"fields":[],"synchronize":true},"runtimeAlias":"formUpdateRole","isTemplate":false,"templateVersion":4,"templateId":null,"templateTitle":"Popup Form Template","templateCategory":"Nabu Templates","templateStable":null,"isTemplateInstance":true,"templateReferenceId":"form-templates-2","templateFragmentId":12,"analysisId":"update-role","triggers":[],"closeable":false},{"id":542,"rows":[{"id":543,"state":{"hideMode":null},"cells":[{"id":544,"rows":[{"id":545,"state":{},"cells":[{"id":546,"rows":[],"alias":"typography-h2","bindings":{},"name":"Form title","state":{"content":"%{Update Permission}","fragments":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-h2"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-h2"}}},"templateReferenceId":"form-templates-2","templateFragmentId":16},{"id":547,"rows":[],"alias":"page-button","bindings":{},"name":"Close button","state":{"bindings":{},"actionTarget":null,"activeRoutes":[],"clickEvent":{"eventFields":[],"name":null},"fragments":{},"icon":"times","emitClose":false,"content":"","triggers":[{"actions":[],"trigger":"activate","closeEvent":true}]},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"ghost","modifiers":[],"options":["position_right"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":17}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_space-between"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":15}],"alias":null,"bindings":{},"name":"Title container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"form-templates-2","templateFragmentId":14},{"id":548,"rows":[{"id":549,"state":{},"cells":[{"id":556,"rows":[],"alias":"page-form-text","bindings":{},"name":"Name","state":{"name":"formUpdateAction.body.name","label":"%{Name}","textType":null,"bindings":{},"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}}},{"id":555,"rows":[],"alias":"page-form-text","bindings":{},"name":"Description","state":{"name":"formUpdateAction.body.description","label":"%{Description}","hideMode":null,"textType":"area","bindings":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Form fields","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_vertical-gap-medium"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":19}],"alias":null,"bindings":{},"name":"Field Container","state":{"fileTypes":[],"name":"documentForm.body.content","contentType":"documentForm.body.contentType","fileName":"documentForm.body.contentName"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}},"rerender":true},"templateReferenceId":"form-templates-2","templateFragmentId":18},{"id":550,"rows":[{"id":551,"state":{"handledEvent":{"eventFields":[],"name":null}},"cells":[{"id":552,"rows":[],"alias":"page-button","bindings":{},"name":"Submit button","state":{"content":"%{Update}","bindings":{},"actionTarget":542,"activeRoutes":[],"clickEvent":{"eventFields":[],"name":null},"fragments":{},"action":"submit","actionEvent":"addedDocument","triggers":[],"hideMode":null,"activationType":"route"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"primary","modifiers":[],"options":[],"conditions":{}}}},"triggers":[{"trigger":"activate","closeEvent":true,"actions":[{"type":"action","actionTarget":542,"action":"submit","bindings":{}}]}],"templateReferenceId":"form-templates-2","templateFragmentId":22},{"id":553,"rows":[],"alias":"page-button","bindings":{},"name":"Cancel button","state":{"bindings":{},"actionTarget":null,"activeRoutes":[],"clickEvent":{"eventFields":[],"name":null},"fragments":{},"content":"%{Cancel}","emitClose":false,"triggers":[{"actions":[],"trigger":"activate","closeEvent":true}],"activationType":"route"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"neutral","modifiers":[],"options":[],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":23}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Global actions","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"renderer-menu":{"variant":null,"modifiers":[],"options":["spacing_horizontal-gap-large","align_space-between"],"conditions":{}}}},"renderer":"menu","rendererBindings":{},"templateReferenceId":"form-templates-2","templateFragmentId":21}],"alias":null,"bindings":{},"name":"Form menu","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"form-templates-2","templateFragmentId":20}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_vertical-gap-large"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":13}],"alias":null,"bindings":{},"name":"Update permission form","state":{"hideMode":null},"target":"prompt","on":"updateAction","class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":{"eventFields":[],"name":null},"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"form":{"variant":"vertical","modifiers":[],"options":["shadow_xsmall","color_background","spacing_large"],"conditions":{}},"form-container":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":"form","rendererBindings":{"actionId":"updateAction.record.id","contextId":"page.contextId","body":"updateAction.record","body.name":null},"form":{"formType":"operation","operation":"nabu.cms.core.v2.manage.security.context.action.update","synchronize":true,"bindings":{},"fields":[]},"runtimeAlias":"formUpdateAction","isTemplate":false,"templateVersion":5,"templateId":null,"templateTitle":"Popup Form Template","templateCategory":"Nabu Templates","templateStable":null,"isTemplateInstance":true,"templateReferenceId":"form-templates-2","templateFragmentId":12,"analysisId":"update-action","hideMode":"event"}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}},{"id":242,"state":{"hideMode":null},"cells":[{"id":243,"rows":[{"id":245,"state":{"hideMode":null},"cells":[{"id":272,"rows":[{"id":273,"state":{"hideMode":null},"cells":[{"id":274,"rows":[],"alias":"typography-h5","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{},"content":"%{Roles}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-h5"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-h5"}}}},{"id":275,"rows":[],"alias":"typography-paragraph","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{},"content":"Manage the roles that exist. You can also link roles to only be available when certain features are set on the target.<br>Depending on which features are active on an entity you may want to enable the management of certain roles.<br>For instance a role \"Sales Manager\" might only be useful for entities that have the feature \"Sales Module\" enabled.<br>If no features are selected, the role is applicable to all entities within this context.<br>If you have a feature restriction, you might still be able to set it on an entity <b>if</b>&nbsp;it has a child entity that <b>does</b>&nbsp;have the feature.<br>"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-paragraph"},"typography":{"variant":"subscript","modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-p"}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_gap-small"],"conditions":{}}}}}],"alias":null,"bindings":{},"name":"Header","state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"typography":{"variant":"subscript","modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-p"}}}},{"id":247,"rows":[{"id":248,"state":{},"cells":[],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table Filters","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["spacing_gap-small"],"conditions":{}}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":28}],"alias":null,"bindings":{},"name":"Filter container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":27},{"id":249,"rows":[{"id":250,"state":{},"cells":[],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table Tags","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["spacing_gap-small"],"conditions":{}}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":38}],"alias":null,"bindings":{},"name":"Tag container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":37},{"id":252,"rows":[{"id":253,"state":{},"cells":[{"id":261,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"content":"%{Name}","sortFields":[{"name":"name"}],"target":255,"hideMode":null,"fragments":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button-sort"},"page-button-sort":{"variant":null,"modifiers":[],"options":["size_small","spacing_horizontal-sides-none","direction_reverse"],"conditions":{}},"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}},"table":{}},{"id":354,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"content":"%{Description}","sortFields":[{"name":"name"}],"target":255,"hideMode":null,"fragments":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button-sort"},"page-button-sort":{"variant":null,"modifiers":[],"options":["size_small","spacing_horizontal-sides-none","direction_reverse"],"conditions":{}},"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}}},{"id":266,"rows":[{"id":267,"state":{},"cells":[{"id":268,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{"role":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatRoleAccount.record.name"},"feature":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatFeaturesForRole.record.name"}},"content":"{feature}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-fragment"},"typography":{"variant":null,"modifiers":[],"options":["rotate_90deg-reverse"],"conditions":{},"defaultVariant":"typography-span"}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null}],"alias":null,"bindings":{},"name":null,"state":{"hideMode":null,"fragments":{"role":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatRole.record.name"}},"content":"{role}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":[],"options":["direction_horizontal","align_bottom"],"conditions":{}},"repeat-content":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}},"table":{},"renderer":"repeat","repeat":{"bindings":{},"defaultOrderBy":[],"operation":null,"array":"page.features.results"},"rendererBindings":{},"runtimeAlias":"repeatFeaturesForRole"},{"id":457,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"content":""},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table header","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"rendererSlot":"header","excludeFromTemplate":false,"templateReferenceId":"nabu-templates-25","templateFragmentId":31},{"id":255,"state":{"hideMode":null},"cells":[{"id":260,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"content":"{name}","fragments":{"name":{"key":"repeatRoleForFeatures.record.name","format":null,"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null}},"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":["empty"],"options":[],"conditions":{"empty":"$value(\"repeatRoleForFeatures.record.name\") == null"}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}},"rerender":true},"triggers":[],"table":{}},{"id":353,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"content":"{description}","fragments":{"name":{"key":"repeatRoleForFeatures.record.name","format":null,"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null},"description":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatRoleForFeatures.record.description"}},"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":["empty"],"options":[],"conditions":{"empty":"$value(\"repeatRoleForFeatures.record.name\") == null"}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}},"rerender":true}},{"id":269,"rows":[{"id":270,"state":{"hideMode":null},"cells":[{"id":271,"rows":[],"alias":"page-smart-check","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{"role":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatRole.record.name"}},"content":"{role}","bindings":{},"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{"contextId":"page.contextId","definitionId":"repeatRoleForFeature.record.id","roleId":"repeatRoleForFeatures.record.id","$serviceContext":null},"type":"operation","operation":"nabu.cms.core.v2.manage.security.context.role.tag.add"},{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"function() {\n\tvar feature = $value(\"repeatRoleForFeature.record.id\")\n\tvar tagIds = $value(\"repeatRoleForFeatures.record.tagIds\")\n\tif (!tagIds) {\n\t\ttagIds = [];\n\t\tVue.set($value(\"repeatRoleForFeatures.record\"), \"tagIds\", tagIds);\n\t}\n\ttagIds.push(feature);\n}"}],"trigger":"check"},{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{"contextId":"page.contextId","definitionId":"repeatRoleForFeature.record.id","roleId":"repeatRoleForFeatures.record.id"},"type":"operation","operation":"nabu.cms.core.v2.manage.security.context.role.tag.remove"},{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"function() {\n\tvar feature = $value(\"repeatRoleForFeature.record.id\")\n\tvar tagIds = $value(\"repeatRoleForFeatures.record.tagIds\")\n\tif (tagIds) {\n\t\tvar index = tagIds.indexOf(feature);\n\t\tif (index >= 0) {\n\t\t\ttagIds.splice(index, 1);\n\t\t}\n\t}\n}"}],"trigger":"clear"}],"checkCondition":"function() {\n\tvar feature = $value(\"repeatRoleForFeature.record.id\")\n\tvar tagIds = $value(\"repeatRoleForFeatures.record.tagIds\")\n\treturn tagIds && tagIds.indexOf(feature) >= 0;\n}","disabledCondition":"function() {\n\tvar current = $value(\"repeatRoleForFeatures.record\");\n\tvar contextId = $value(\"page.contextId\");\n\tif (!current || current.ownerId != contextId) {\n\t\treturn true;\n\t}\n\telse {\n\t\treturn $services.user.cant(\"role.manage\", contextId, $value(\"$this\").getServiceContext());\n\t}\n}","label":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-smart-check"},"typography":{"variant":null,"modifiers":[],"options":["rotate_90deg-reverse"],"conditions":{},"defaultVariant":"typography-span"},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"table":{}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"alias":null,"bindings":{},"name":null,"state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":["small"],"options":[],"conditions":{}},"repeat-content":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"repeat-message":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"repeat-empty":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"repeat-loading":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"table":{},"renderer":"repeat","repeat":{"bindings":{},"defaultOrderBy":[],"operation":null,"array":"page.features.results","emptyPlaceholder":null,"type":"array","customSlots":[]},"rendererBindings":{},"runtimeAlias":"repeatRoleForFeature"},{"id":454,"rows":[{"id":455,"state":{},"cells":[{"id":456,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":null,"content":"","bindings":{},"actionTarget":null,"activeRoutes":[],"activationType":"route","fragments":{},"icon":"pencil-alt","tooltip":"Edit role"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"ghost","modifiers":[],"options":[],"conditions":{}},"page-button-tooltip":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"table":{},"triggers":[{"actions":[{"event":{"eventFields":[{"name":"record","fixedValue":null,"isFixed":false,"stateValue":"repeatRoleForFeatures.record"}],"name":"editRole"},"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"event"}],"trigger":"activate"}]}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null}],"alias":null,"bindings":{},"name":"local actions","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table Body Role","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"repeat-content":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"table-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":"repeat","rendererBindings":{"filter.limit":"fixed.10"},"repeat":{"bindings":{},"operation":null,"emptyPlaceholder":"%{No data available}","loadingPlaceholder":"%{Loading...}","selectable":false,"defaultOrderBy":[],"array":"page.publicRoles","enableParameterWatching":false,"type":"array","customSlots":[]},"runtimeAlias":"repeatRoleForFeatures","templateReferenceId":"nabu-templates-25","templateFragmentId":32,"triggers":[]},{"id":256,"state":{"hideMode":"script"},"cells":[{"id":257,"rows":[],"alias":"page-paging","bindings":{},"name":null,"state":{"target":255,"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-paging"},"paging-button":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"paging-menu":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"triggers":[],"table":{"colspan":"100"},"templateReferenceId":"nabu-templates-25","templateFragmentId":34,"closeable":false}],"class":null,"customId":null,"condition":"false","direction":null,"align":null,"on":null,"collapsed":false,"name":"Table paging","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_center"],"conditions":{}},"table-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"rendererSlot":"footer","templateReferenceId":"nabu-templates-25","templateFragmentId":33,"closeable":false}],"alias":null,"bindings":{},"name":null,"state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"table":{"variant":null,"modifiers":["has-local-actions"],"options":[],"conditions":{}}}},"renderer":"table","rendererBindings":{},"isTemplate":false,"templateVersion":2,"templateId":null,"templateTitle":"Basic Table","templateCategory":"Nabu Templates","templateIcon":"table","templateStable":null,"isTemplateInstance":true,"templateReferenceId":"nabu-templates-25","templateFragmentId":30},{"id":258,"rows":[{"id":259,"state":{},"cells":[{"id":146,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"visibility","closeableTarget":149,"closeableAction":"visible"}],"trigger":"activate"}],"fragments":{},"content":"%{New Role}","activationType":"route"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"primary","modifiers":[],"options":[],"conditions":{}}}},"closeable":false,"permission":"role.manage","permissionContext":"=$value(\"page.contextId\")"}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Global Actions","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_end"],"conditions":{}}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":36}],"alias":null,"bindings":{},"name":"Button container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":35}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Role Table","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_large","spacing_gap-medium"],"conditions":{}}}},"isTemplate":false,"templateVersion":3,"templateId":null,"templateTitle":"Full table","templateCategory":"Nabu Templates","templateIcon":"table","templateDescription":"A table with a title, space for filters,...","templateStable":null,"isTemplateInstance":true,"templateReferenceId":"nabu-templates-25","templateFragmentId":25}],"alias":null,"bindings":{},"name":"Role Card","state":{"hideMode":"toggle"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":["fill_normal","color_background","border_bottom"],"conditions":{},"defaultVariant":"page-column"}}},"closeable":true}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Cards","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}},{"id":276,"state":{"hideMode":null},"cells":[{"id":277,"rows":[{"id":279,"state":{},"cells":[{"id":349,"rows":[{"id":350,"state":{"hideMode":null},"cells":[{"id":351,"rows":[],"alias":"typography-h5","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{},"content":"%{Features}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-h5"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-h5"}}}},{"id":352,"rows":[],"alias":"typography-paragraph","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{},"content":"Manage the features that are available in your context<br>A feature indicates a particular attribute on an entity.<br>"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-paragraph"},"typography":{"variant":"subscript","modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-p"}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_gap-small"],"conditions":{}}}}}],"alias":null,"bindings":{},"name":"Header","state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"typography":{"variant":"subscript","modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-p"}}}},{"id":281,"rows":[{"id":282,"state":{},"cells":[],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table Filters","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["spacing_gap-small"],"conditions":{}}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":28}],"alias":null,"bindings":{},"name":"Filter container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":27},{"id":283,"rows":[{"id":284,"state":{},"cells":[],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table Tags","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["spacing_gap-small"],"conditions":{}}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":38}],"alias":null,"bindings":{},"name":"Tag container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":37},{"id":286,"rows":[{"id":287,"state":{},"cells":[{"id":297,"rows":[],"alias":"page-button-sort","bindings":{},"name":null,"state":{"content":"%{Name}","sortFields":[{"name":"name"}],"target":289},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button-sort"},"page-button-sort":{"variant":null,"modifiers":[],"options":["size_small","spacing_horizontal-sides-none","direction_reverse"],"conditions":{}}}}},{"id":295,"rows":[],"alias":"page-button-sort","bindings":{},"name":null,"state":{"content":"%{Description}","sortFields":[{"name":"description"}],"target":289},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button-sort"},"page-button-sort":{"variant":null,"modifiers":[],"options":["size_small","spacing_horizontal-sides-none","direction_reverse"],"conditions":{}}}}},{"id":345,"rows":[],"alias":"typography-fragment","bindings":{},"name":"Local actions header","state":{"hideMode":"script"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":"$services.user.hasPermission(\"masterdata.manage\", $value(\"page.context.name\"))","devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"closeable":false,"table":{}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table header","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"rendererSlot":"header","excludeFromTemplate":false,"templateReferenceId":"nabu-templates-25","templateFragmentId":31},{"id":289,"state":{"hideMode":null},"cells":[{"id":296,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"content":"{name}","fragments":{"name":{"key":"repeatFeatures.record.name","format":null,"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null}},"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":["empty"],"options":[],"conditions":{"empty":"$value(\"repeatFeatures.record.name\") == null"}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}}},{"id":294,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"content":"{description}","fragments":{"description":{"key":"repeatFeatures.record.description","format":null}}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":["empty"],"options":[],"conditions":{"empty":"$value(\"repeatFeatures.record.description\") == null"}}}}},{"id":344,"rows":[{"id":346,"state":{},"cells":[{"id":347,"rows":[],"alias":"page-button","bindings":{},"name":"Update Feature","state":{"content":"","icon":"pencil-alt","triggers":[{"trigger":"activate","actions":[{"type":"event","event":{"name":"updateFeature","eventFields":[{"name":"record","stateValue":"repeatFeatures.record"}]}}]}],"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"fragments":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"ghost","modifiers":[],"options":["size_small"],"conditions":{}}}},"closeable":false}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["gap_small","wrap_none"],"conditions":{}}}}}],"alias":null,"bindings":{},"name":"Local actions","state":{"hideMode":"script"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":"$services.user.hasPermission(\"masterdata.manage\", $value(\"page.context.name\"))","devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":["small"],"options":["border_none"],"conditions":{}}}},"closeable":false}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table Body MasterDataEntry","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"repeat-content":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"table-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":"repeat","rendererBindings":{"filter.limit":"fixed.10","filter.masterDataCategoryName":"fixed.features","filter.contextId":"page.contextId"},"repeat":{"bindings":{},"operation":"nabu.cms.core.v2.manage.security.context.feature.list","emptyPlaceholder":"%{No data available}","loadingPlaceholder":"%{Loading...}","selectable":false,"defaultOrderBy":[{"name":"name","direction":"asc"}]},"runtimeAlias":"repeatFeatures","templateReferenceId":"nabu-templates-25","templateFragmentId":32},{"id":290,"state":{"hideMode":"script"},"cells":[{"id":291,"rows":[],"alias":"page-paging","bindings":{},"name":null,"state":{"target":289,"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-paging"},"paging-button":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"paging-menu":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"triggers":[],"table":{"colspan":"100"},"templateReferenceId":"nabu-templates-25","templateFragmentId":34}],"class":null,"customId":null,"condition":"false","direction":null,"align":null,"on":null,"collapsed":false,"name":"Table paging","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_center"],"conditions":{}},"table-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"rendererSlot":"footer","templateReferenceId":"nabu-templates-25","templateFragmentId":33,"closeable":false}],"alias":null,"bindings":{},"name":null,"state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"table":{"variant":null,"modifiers":["has-local-actions"],"options":[],"conditions":{}}}},"renderer":"table","rendererBindings":{},"isTemplate":false,"templateVersion":2,"templateId":null,"templateTitle":"Basic Table","templateCategory":"Nabu Templates","templateIcon":"table","templateStable":null,"isTemplateInstance":true,"templateReferenceId":"nabu-templates-25","templateFragmentId":30},{"id":292,"rows":[{"id":293,"state":{},"cells":[{"id":324,"rows":[],"alias":"page-button","bindings":{},"name":"Create Feature","state":{"content":"%{New Feature}","icon":"plus","triggers":[{"trigger":"activate","actions":[{"type":"event","event":{"name":"createFeature","eventFields":[]}}]}],"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"fragments":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"primary","modifiers":[],"options":[],"conditions":{}}}},"closeable":false,"permission":"masterdata.manage","permissionContext":"=$value(\"page.contextId\")"}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Global Actions","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_end"],"conditions":{}}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":36}],"alias":null,"bindings":{},"name":"Button container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":35}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"MasterDataEntry Table","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_large","spacing_gap-medium"],"conditions":{}}}},"isTemplate":false,"templateVersion":3,"templateId":null,"templateTitle":"Full table","templateCategory":"Nabu Templates","templateIcon":"table","templateDescription":"A table with a title, space for filters,...","templateStable":null,"isTemplateInstance":true,"templateReferenceId":"nabu-templates-25","templateFragmentId":25}],"alias":null,"bindings":{},"name":"Features Card","state":{"hideMode":"toggle"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":["fill_normal","color_background","border_bottom"],"conditions":{},"defaultVariant":"page-column"}}},"closeable":true}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Cards","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}},{"id":306,"state":{},"cells":[{"id":308,"rows":[{"id":309,"state":{},"cells":[{"id":310,"rows":[{"id":311,"state":{},"cells":[{"id":312,"rows":[],"alias":"typography-h2","bindings":{},"name":"Form title","state":{"content":"%{New Feature}","fragments":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-h2"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-h2"}}},"templateReferenceId":"form-templates-2","templateFragmentId":16},{"id":313,"rows":[],"alias":"page-button","bindings":{},"name":"Close button","state":{"bindings":{},"actionTarget":null,"activeRoutes":[],"clickEvent":{"eventFields":[],"name":null},"fragments":{},"icon":"times","emitClose":false,"content":"","triggers":[{"actions":[],"trigger":"activate","closeEvent":true}]},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"ghost","modifiers":[],"options":["position_right"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":17}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_space-between"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":15}],"alias":null,"bindings":{},"name":"Title container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"form-templates-2","templateFragmentId":14},{"id":314,"rows":[{"id":315,"state":{},"cells":[{"id":321,"rows":[],"alias":"page-form-text","bindings":{},"name":"Name","state":{"name":"formCreateFeature.body.name","label":"%{Name}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}}},{"id":320,"rows":[],"alias":"page-form-text","bindings":{},"name":"Description","state":{"name":"formCreateFeature.body.description","label":"%{Description}","hideMode":null,"textType":"area","bindings":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-form-text"},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Form fields","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_vertical-gap-medium"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":19}],"alias":null,"bindings":{},"name":"Field Container","state":{"fileTypes":[],"name":"documentForm.body.content","contentType":"documentForm.body.contentType","fileName":"documentForm.body.contentName"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}},"rerender":true},"templateReferenceId":"form-templates-2","templateFragmentId":18},{"id":316,"rows":[{"id":317,"state":{"handledEvent":{"eventFields":[],"name":null}},"cells":[{"id":318,"rows":[],"alias":"page-button","bindings":{},"name":"Submit button","state":{"content":"%{Create}","bindings":{},"actionTarget":308,"activeRoutes":[],"clickEvent":{"eventFields":[],"name":null},"fragments":{},"action":"submit","actionEvent":"addedDocument","triggers":[{"actions":[{"event":null,"url":null,"action":"submit","actionTarget":308,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"action","resultName":null},{"type":"action","action":"refresh","actionTarget":289,"bindings":{}},{"event":{"eventFields":[],"name":"refreshFeatures"},"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"event"}],"trigger":"activate","closeEvent":true}],"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"primary","modifiers":[],"options":[],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":22},{"id":319,"rows":[],"alias":"page-button","bindings":{},"name":"Cancel button","state":{"bindings":{},"actionTarget":null,"activeRoutes":[],"clickEvent":{"eventFields":[],"name":null},"fragments":{},"content":"%{Cancel}","emitClose":false,"triggers":[{"actions":[],"trigger":"activate","closeEvent":true}]},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"neutral","modifiers":[],"options":[],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":23}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Global actions","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"renderer-menu":{"variant":null,"modifiers":[],"options":["spacing_horizontal-gap-large","align_space-between"],"conditions":{}}}},"renderer":"menu","rendererBindings":{},"templateReferenceId":"form-templates-2","templateFragmentId":21}],"alias":null,"bindings":{},"name":"Form menu","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"form-templates-2","templateFragmentId":20}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_vertical-gap-large"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":13}],"alias":null,"bindings":{},"name":"New Feature Form","state":{"hideMode":null},"target":"prompt","on":"createFeature","class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":{"eventFields":[],"name":null},"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"form":{"variant":"vertical","modifiers":[],"options":["shadow_xsmall","color_background","spacing_large"],"conditions":{}},"form-container":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":"form","rendererBindings":{"contextId":"page.contextId"},"form":{"formType":"operation","operation":"nabu.cms.core.v2.manage.security.context.feature.create","bindings":{},"fields":[]},"runtimeAlias":"formCreateFeature","isTemplate":false,"templateVersion":4,"templateId":null,"templateTitle":"Popup Form Template","templateCategory":"Nabu Templates","templateStable":null,"isTemplateInstance":true,"templateReferenceId":"form-templates-2","templateFragmentId":12},{"id":327,"rows":[{"id":328,"state":{},"cells":[{"id":329,"rows":[{"id":330,"state":{},"cells":[{"id":331,"rows":[],"alias":"typography-h2","bindings":{},"name":"Form title","state":{"content":"%{Update Feature}","fragments":{},"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-h2"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-h2"}}},"templateReferenceId":"form-templates-2","templateFragmentId":16},{"id":332,"rows":[],"alias":"page-button","bindings":{},"name":"Close button","state":{"bindings":{},"actionTarget":null,"activeRoutes":[],"clickEvent":{"eventFields":[],"name":null},"fragments":{},"icon":"times","emitClose":false,"content":"","triggers":[{"actions":[],"trigger":"activate","closeEvent":true}]},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"ghost","modifiers":[],"options":["position_right"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":17}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_space-between"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":15}],"alias":null,"bindings":{},"name":"Title container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"form-templates-2","templateFragmentId":14},{"id":333,"rows":[{"id":334,"state":{},"cells":[{"id":340,"rows":[],"alias":"page-form-text","bindings":{},"name":"Name","state":{"name":"formUpdateFeature.body.name","label":"%{Name}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}}},{"id":339,"rows":[],"alias":"page-form-text","bindings":{},"name":"Description","state":{"name":"formUpdateFeature.body.description","label":"%{Description}","hideMode":null,"textType":"area","bindings":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-form-text"},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Form fields","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_vertical-gap-medium"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":19}],"alias":null,"bindings":{},"name":"Field Container","state":{"fileTypes":[],"name":"documentForm.body.content","contentType":"documentForm.body.contentType","fileName":"documentForm.body.contentName"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}},"rerender":true},"templateReferenceId":"form-templates-2","templateFragmentId":18},{"id":335,"rows":[{"id":336,"state":{"handledEvent":{"eventFields":[],"name":null}},"cells":[{"id":337,"rows":[],"alias":"page-button","bindings":{},"name":"Submit button","state":{"content":"%{Update}","bindings":{},"actionTarget":327,"activeRoutes":[],"clickEvent":{"eventFields":[],"name":null},"fragments":{},"action":"submit","actionEvent":"addedDocument","triggers":[{"actions":[{"event":null,"url":null,"action":"submit","actionTarget":327,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"action"}],"trigger":"activate","closeEvent":true}],"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"primary","modifiers":[],"options":[],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":22},{"id":338,"rows":[],"alias":"page-button","bindings":{},"name":"Cancel button","state":{"bindings":{},"actionTarget":null,"activeRoutes":[],"clickEvent":{"eventFields":[],"name":null},"fragments":{},"content":"%{Cancel}","emitClose":false,"triggers":[{"actions":[],"trigger":"activate","closeEvent":true}]},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"neutral","modifiers":[],"options":[],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":23}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Global actions","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"renderer-menu":{"variant":null,"modifiers":[],"options":["spacing_horizontal-gap-large","align_space-between"],"conditions":{}}}},"renderer":"menu","rendererBindings":{},"templateReferenceId":"form-templates-2","templateFragmentId":21}],"alias":null,"bindings":{},"name":"Form menu","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"form-templates-2","templateFragmentId":20}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_vertical-gap-large"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":13}],"alias":null,"bindings":{},"name":"Update Feature Form","state":{"hideMode":null},"target":"prompt","on":"updateFeature","class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":{"eventFields":[],"name":null},"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"form":{"variant":"vertical","modifiers":[],"options":["shadow_xsmall","color_background","spacing_large"],"conditions":{}},"form-container":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":"form","rendererBindings":{"body.description":"updateFeature.record.description","body.name":"updateFeature.record.name","body.priority":"updateFeature.record.priority","contextId":"page.contextId","featureId":"updateFeature.record.id"},"form":{"formType":"operation","operation":"nabu.cms.core.v2.manage.security.context.feature.update","synchronize":true,"bindings":{},"fields":[]},"runtimeAlias":"formUpdateFeature","isTemplate":false,"templateVersion":4,"templateId":null,"templateTitle":"Popup Form Template","templateCategory":"Nabu Templates","templateStable":null,"isTemplateInstance":true,"templateReferenceId":"form-templates-2","templateFragmentId":12}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}},{"id":420,"state":{},"cells":[{"id":421,"rows":[{"id":422,"state":{},"cells":[{"id":423,"rows":[{"id":424,"state":{},"cells":[{"id":425,"rows":[],"alias":"typography-h2","bindings":{},"name":"Form title","state":{"content":"%{Add Node Connection}","fragments":{},"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-h2"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-h2"}}},"templateReferenceId":"form-templates-2","templateFragmentId":16},{"id":426,"rows":[],"alias":"page-button","bindings":{},"name":"Close button","state":{"bindings":{},"actionTarget":null,"activeRoutes":[],"clickEvent":{"eventFields":[],"name":null},"fragments":{},"icon":"times","emitClose":false,"content":"","triggers":[{"actions":[],"trigger":"activate","closeEvent":true}]},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"ghost","modifiers":[],"options":["position_right"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":17}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_space-between"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":15}],"alias":null,"bindings":{},"name":"Title container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"form-templates-2","templateFragmentId":14},{"id":427,"rows":[{"id":428,"state":{},"cells":[{"id":429,"rows":[],"alias":"page-form-enumeration-array","bindings":{},"name":"Source Id","state":{"name":"formCreateNodeConnection.body.sourceId","label":"%{Source}","hideMode":null,"enumerationProvider":null,"enumerationOperation":"nabu.cms.core.v2.manage.security.context.list","enumerationOperationLabel":"name","enumerationOperationValue":"id","enumerationOperationQuery":null,"enumerationOperationBinding":{},"triggers":[],"enumerationOperationLabelComplex":true,"complexLabel":"{name} ({component})","fragments":{"name":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"name"},"component":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"componentName"}},"bindings":{},"enumerationArray":"page.listableContexts.results","enumerationArrayLabelComplex":true,"filter":"function(value) {\n\tif (value.id == $value(\"page.contextId\")) {\n\t\treturn false;\n\t}\n\tvar existing = $value(\"repeatNodeConnection.records\");\n\tconsole.log(\"existing node connections\", existing, value);\n\tif (existing) {\n\t\tvar current = existing.filter(function(x) {\n\t\t\treturn x.id == value.id;\n\t\t})[0];\n\t\tconsole.log(\"current is\", current);\n\t\tif (current) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}","enumerationArrayValue":"id"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-form-enumeration-array"},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Form fields","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_vertical-gap-medium"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":19}],"alias":null,"bindings":{},"name":"Field Container","state":{"fileTypes":[],"name":"documentForm.body.content","contentType":"documentForm.body.contentType","fileName":"documentForm.body.contentName"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}},"rerender":true},"templateReferenceId":"form-templates-2","templateFragmentId":18},{"id":430,"rows":[{"id":431,"state":{"handledEvent":{"eventFields":[],"name":null}},"cells":[{"id":432,"rows":[],"alias":"page-button","bindings":{},"name":"Submit button","state":{"content":"%{Add}","bindings":{},"actionTarget":421,"activeRoutes":[],"clickEvent":{"eventFields":[],"name":null},"fragments":{},"action":"submit","actionEvent":"addedDocument","triggers":[{"actions":[{"event":null,"url":null,"action":"submit","actionTarget":421,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"action"},{"type":"action","action":"refresh","actionTarget":394,"bindings":{}}],"trigger":"activate","closeEvent":true}],"hideMode":null,"activationType":"route"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"primary","modifiers":[],"options":[],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":22},{"id":433,"rows":[],"alias":"page-button","bindings":{},"name":"Cancel button","state":{"bindings":{},"actionTarget":null,"activeRoutes":[],"clickEvent":{"eventFields":[],"name":null},"fragments":{},"content":"%{Cancel}","emitClose":false,"triggers":[{"actions":[],"trigger":"activate","closeEvent":true}]},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"neutral","modifiers":[],"options":[],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":23}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Global actions","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"renderer-menu":{"variant":null,"modifiers":[],"options":["spacing_horizontal-gap-large","align_space-between"],"conditions":{}}}},"renderer":"menu","rendererBindings":{},"templateReferenceId":"form-templates-2","templateFragmentId":21}],"alias":null,"bindings":{},"name":"Form menu","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"form-templates-2","templateFragmentId":20}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_vertical-gap-large"],"conditions":{}}}},"templateReferenceId":"form-templates-2","templateFragmentId":13}],"alias":null,"bindings":{},"name":"Form node connection","state":{"hideMode":null},"target":"prompt","on":"createNodeConnection","class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":{"eventFields":[],"name":null},"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"form":{"variant":"vertical","modifiers":[],"options":["shadow_xsmall","color_background","spacing_large"],"conditions":{}},"form-container":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":"form","rendererBindings":{"contextId":"context.id"},"form":{"formType":"operation","operation":"nabu.cms.core.v2.manage.security.crud.nodeConnection.services.create","bindings":{},"fields":[]},"runtimeAlias":"formCreateNodeConnection","isTemplate":false,"templateVersion":4,"templateId":null,"templateTitle":"Popup Form Template","templateCategory":"Nabu Templates","templateStable":null,"isTemplateInstance":true,"templateReferenceId":"form-templates-2","templateFragmentId":12}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}},{"id":471,"state":{"hideMode":"toggle"},"cells":[{"id":472,"rows":[{"id":473,"state":{"hideMode":null},"cells":[{"id":474,"rows":[{"id":475,"state":{"hideMode":null},"cells":[{"id":562,"rows":[{"id":563,"state":{"hideMode":null},"cells":[{"id":523,"rows":[],"alias":"typography-h5","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{},"content":"%{Rules}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":null},{"id":564,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"content":"","bindings":{},"actionTarget":null,"activeRoutes":[],"activationType":"route","fragments":{},"icon":"refresh","tooltip":"Refresh"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"ghost","modifiers":[],"options":[],"conditions":{}}}},"triggers":[{"actions":[{"event":null,"url":null,"action":"refresh","actionTarget":498,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"action"}],"trigger":"activate"}]}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_space-between"],"conditions":{}}}}}],"alias":null,"bindings":{},"name":"Wrapper for H5","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-h5"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-h5"}}}},{"id":480,"rows":[],"alias":"typography-paragraph","bindings":{},"name":"Description","state":{"hideMode":null,"fragments":{},"content":"Note that security rules are inherited by child nodes.<br>"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-paragraph"},"typography":{"variant":"subscript","modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-p"}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_gap-small"],"conditions":{}}}}}],"alias":null,"bindings":{},"name":"Header","state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"typography":{"variant":"subscript","modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-p"}}}},{"id":481,"rows":[{"id":482,"state":{},"cells":[{"id":483,"rows":[],"alias":"page-form-text","bindings":{},"name":"Q","state":{"name":"repeatAccount.filter.q","label":null,"timeout":600,"placeholder":"%{Search users}","suffixIcon":"search","hideMode":null,"textType":null,"bindings":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":["width_min-xsmall"],"conditions":{},"defaultVariant":"page-column-page-form-text"},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table Filters","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["spacing_gap-small"],"conditions":{}}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":28}],"alias":null,"bindings":{},"name":"Filter container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":27},{"id":484,"rows":[{"id":485,"state":{},"cells":[{"id":486,"rows":[],"alias":"page-tag","bindings":{},"name":null,"state":{"field":"repeatAccount.filter.q","content":"%{Search}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-tag"},"page-tag":{"variant":"primary-dark-outline","modifiers":[],"options":["direction_reverse","decoration_emphasis"],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table Tags","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["spacing_gap-small"],"conditions":{}}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":38}],"alias":null,"bindings":{},"name":"Tag container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":37},{"id":487,"rows":[{"id":488,"state":{},"cells":[{"id":489,"rows":[],"alias":"page-button-sort","bindings":{},"name":null,"state":{"content":"%{Alias}","sortFields":[{"name":"alias"}],"target":46,"hideMode":null,"fragments":{}},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button-sort"},"page-button-sort":{"variant":null,"modifiers":[],"options":["size_small","spacing_horizontal-sides-none","direction_reverse"],"conditions":{}},"table-column":{"variant":null,"modifiers":[],"options":["align_bottom"],"conditions":{}}}}},{"id":490,"rows":[{"id":491,"state":{"hideMode":null},"cells":[{"id":492,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{"role":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatRoleAccount.record.name"},"test":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":null}},"content":"{role}","tooltip":"=$value(\"repeatRoleAccount.record.ownerName\")"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-fragment"},"typography":{"variant":null,"modifiers":[],"options":["rotate_90deg-reverse"],"conditions":{},"defaultVariant":"typography-span"},"tooltip":{"variant":null,"modifiers":[],"options":["position_right"],"conditions":{"position_top":null,"position_left":null},"defaultVariant":"tooltip-span"}}},"triggers":[]}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"alias":null,"bindings":{},"name":null,"state":{"hideMode":null,"fragments":{"role":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatRole.record.name"}},"content":"{role}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":[],"options":["direction_horizontal","align_bottom"],"conditions":{}},"repeat-content":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}},"table":{},"renderer":"repeat","repeat":{"bindings":{},"defaultOrderBy":[],"operation":null,"array":"page.publicRoles"},"rendererBindings":{},"runtimeAlias":"repeatRoleAccount"}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table header","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"rendererSlot":"header","excludeFromTemplate":false,"templateReferenceId":"nabu-templates-25","templateFragmentId":31},{"id":493,"state":{"hideMode":null},"cells":[{"id":494,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{},"content":"%{Show only users that have}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":[],"options":["color_primary-dark-outline"],"conditions":{}},"typography":{"variant":null,"modifiers":[],"options":["decoration_emphasis","spacing_vertical-small"],"conditions":{},"defaultVariant":"typography-span"}}},"table":{"colspan":null}},{"id":495,"rows":[{"id":496,"state":{"hideMode":null},"cells":[{"id":497,"rows":[],"alias":"page-smart-check","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{"role":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatRole.record.name"}},"content":"{role}","bindings":{},"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"function() {\n\tvar limit = $value(\"page.limitAccountToRoleIds\");\n\tif (!limit) {\n\t\tlimit = [];\n\t\t$value(\"page.$this\").set(\"limitAccountToRoleIds\", limit);\n\t}\n\tvar roleId = $value(\"repeatRoleAccountFilter.record.id\")\n\tif (limit.indexOf(roleId) < 0) {\n\t\tlimit.push(roleId);\n\t}\n}"}],"trigger":"check"},{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"function() {\n\tvar limit = $value(\"page.limitAccountToRoleIds\");\n\tif (!limit) {\n\t\tlimit = [];\n\t\t$value(\"page.$this\").set(\"limitAccountToRoleIds\", limit);\n\t}\n\tvar roleId = $value(\"repeatRoleAccountFilter.record.id\")\n\tvar index = limit.indexOf(roleId);\n\tif (index >= 0) {\n\t\tlimit.splice(index, 1);\n\t}\n}"}],"trigger":"clear"}],"checkCondition":"function() {\n\tvar limit = $value(\"page.limitAccountToRoleIds\");\n\tvar roleId = $value(\"repeatRoleAccountFilter.record.id\")\n\treturn limit && limit.indexOf(roleId) >= 0;\n}","disabledCondition":"","label":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-smart-check"},"typography":{"variant":null,"modifiers":[],"options":["rotate_90deg-reverse"],"conditions":{},"defaultVariant":"typography-span"},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"table":{}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"alias":null,"bindings":{},"name":null,"state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":["small"],"options":[],"conditions":{}},"repeat-content":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"table":{},"renderer":"repeat","repeat":{"bindings":{},"defaultOrderBy":[],"operation":null,"array":"page.publicRoles"},"rendererBindings":{},"runtimeAlias":"repeatRoleAccountFilter"}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"filtering","aris":{"components":{"table-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"rendererSlot":null},{"id":498,"state":{"hideMode":null},"cells":[{"id":499,"rows":[{"id":500,"state":{"hideMode":null},"cells":[{"id":501,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"content":"{email}","fragments":{"email":{"key":"repeatAccount.record.email","format":null,"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null},"alias":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatAccount.record.alias"},"e":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null}},"hideMode":"script"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":"$value(\"repeatAccount.record.email\")","devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-fragment"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}},"closeable":false},{"id":502,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"content":"{phone}","fragments":{"email":{"key":"repeatAccount.record.email","format":null,"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null},"alias":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatAccount.record.alias"},"e":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null},"phone":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatAccount.record.phoneNumber"}},"hideMode":"script"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":"!$value(\"repeatAccount.record.email\")\n\t&& $value(\"repeatAccount.record.phoneNumber\")","devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-fragment"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}},"closeable":false},{"id":503,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"content":"{alias}","fragments":{"email":{"key":"repeatAccount.record.email","format":null,"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null},"alias":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatAccount.record.alias"}},"hideMode":"script"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":"!$value(\"repeatAccount.record.email\")\n\t&& !$value(\"repeatAccount.record.phoneNumber\")","devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-fragment"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}},"closeable":false,"triggers":[]},{"id":504,"rows":[],"alias":"page-badge","bindings":{},"name":null,"state":{"content":"{givenName} {familyName}","fragments":{"alias":{"key":"repeatAccount.record.alias","format":null,"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null},"givenName":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatAccount.record.givenName"},"familyName":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatAccount.record.familyName"}},"hideMode":"script"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":"$value(\"repeatAccount.record.familyName\") != null","devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":["empty"],"options":[],"conditions":{"empty":"$value(\"repeatAccount.record.alias\") == null"}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"},"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-badge"},"page-badge":{"variant":"primary-dark-outline","modifiers":[],"options":[],"conditions":{}}}},"closeable":false}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["spacing_vertical-small","spacing_gap-small","align_cross-center"],"conditions":{}}}}}],"alias":null,"bindings":{},"name":"Wrapper for Fragment","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":["empty"],"options":[],"conditions":{"empty":"$value(\"repeatAccount.record.email\") == null"}},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}}},{"id":505,"rows":[{"id":506,"state":{"hideMode":null},"cells":[{"id":507,"rows":[],"alias":"page-smart-check","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{"role":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"repeatRole.record.name"}},"content":"{role}","bindings":{},"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{"actionId":"repeatAction.record.id","roleId":"repeatRoleMembershipAccount.record.id","contextId":"page.contextId","accountId":"repeatAccount.record.id","$serviceContext":null},"type":"operation","operation":"nabu.cms.core.v2.manage.security.context.account.add"},{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"function() {\n\tvar roleId = $value(\"repeatRoleMembershipAccount.record.id\")\n\tvar memberships = $value(\"repeatAccount.record.memberships\");\n\tif (!memberships) {\n\t\tvar record = $value(\"repeatAccount.record\");\n\t\tmemberships = [];\n\t\tVue.set(record, \"memberships\", memberships);\n\t}\n\tmemberships.push({\n\t\troleId: roleId\n\t});\n}"}],"trigger":"check"},{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{"actionId":"repeatAction.record.id","roleId":"repeatRoleMembershipAccount.record.id","contextId":"page.contextId","accountId":"repeatAccount.record.id","$serviceContext":null},"type":"operation","operation":"nabu.cms.core.v2.manage.security.context.account.remove"},{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"function() {\n\tvar roleId = $value(\"repeatRoleMembershipAccount.record.id\")\n\tvar memberships = $value(\"repeatAccount.record.memberships\");\n\tif (memberships) {\n\t\tvar existing = memberships.filter(function(x) {\n\t\t\treturn x.roleId == roleId;\n\t\t})[0];\n\t\tif (existing) {\n\t\t\tmemberships.splice(memberships.indexOf(existing), 1);\n\t\t}\n\t}\n}"}],"trigger":"clear"}],"checkCondition":"function() {\n\tvar roleId = $value(\"repeatRoleMembershipAccount.record.id\")\n\tvar memberships = $value(\"repeatAccount.record.memberships\");\n\tif (!memberships) {\n\t\treturn false;\n\t}\n\telse {\n\t\treturn memberships.filter(function(x) {\n\t\t\treturn x.roleId == roleId;\n\t\t}).length > 0;\n\t}\n}","disabledCondition":"function() {\n\t// if we have the role and it is inherited, we can't uncheck it\n\tvar roleId = $value(\"repeatRoleMembershipAccount.record.id\")\n\tvar memberships = $value(\"repeatAccount.record.memberships\");\n\tif (memberships) {\n\t\tvar existing = memberships.filter(function(x) {\n\t\t\treturn x.roleId == roleId;\n\t\t})[0];\n\t\tif (existing && existing.inherited == true) {\n\t\t\treturn true;\n\t\t}\n\t}\n\t// otherwise, if the role has feature restrictions, check that the node has them\n\tvar limitingTags = $value(\"repeatRoleMembershipAccount.record.tagIds\");\n\t// check whether the node has it\n\tif (limitingTags && limitingTags.length > 0) {\n\t\tvar tags = $value(\"page.context.tags\");\n\t\tvar childTags = $value(\"page.context.childTagDefinitionIds\");\n\t\tif (tags) {\n\t\t\tvar matchingTags = tags.filter(function(x) {\n\t\t\t\treturn limitingTags.indexOf(x.definitionId) >= 0;\n\t\t\t});\n\t\t\t// you have the tag, it's ok\n\t\t\tif (matchingTags.length > 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tif (childTags) {\n\t\t\tvar matchingChildTags = childTags.filter(function(x) {\n\t\t\t\treturn limitingTags.indexOf(x) >= 0;\n\t\t\t});\n\t\t\t// one of your children has the tag, it's ok\n\t\t\tif (matchingChildTags.length > 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\treturn false;\n}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-smart-check"},"typography":{"variant":null,"modifiers":[],"options":["rotate_90deg-reverse"],"conditions":{},"defaultVariant":"typography-span"},"form-component":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"table":{}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}}}],"alias":null,"bindings":{},"name":null,"state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"repeat-content":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"table":{},"renderer":"repeat","repeat":{"bindings":{},"defaultOrderBy":[],"operation":null,"array":"page.publicRoles"},"rendererBindings":{},"runtimeAlias":"repeatRoleMembershipAccount"}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table Body Account","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"repeat-content":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"table-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":"repeat","rendererBindings":{"filter.limit":"fixed.10","filter.roleId":"roles.results.id","filter.contextId":"page.contextId","filter.requiredRoleId":"page.limitAccountToRoleIds"},"repeat":{"bindings":{},"operation":"nabu.cms.core.v2.manage.security.context.account.list","emptyPlaceholder":"%{No users found}","loadingPlaceholder":"%{Loading...}","selectable":false,"defaultOrderBy":[{"name":"alias","direction":"asc"}],"enableParameterWatching":true,"type":"operation","customSlots":[]},"runtimeAlias":"repeatAccount","templateReferenceId":"nabu-templates-25","templateFragmentId":32},{"id":508,"state":{"hideMode":"toggle"},"cells":[{"id":509,"rows":[{"id":510,"state":{"hideMode":null},"cells":[{"id":511,"rows":[],"alias":"typography-fragment","bindings":{},"name":null,"state":{"hideMode":null,"fragments":{},"content":"%{Add user}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-typography-fragment"},"typography":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"typography-span"}}}},{"id":512,"rows":[],"alias":"page-form-enumeration-operation","bindings":{},"name":null,"state":{"hideMode":null,"enumerationProvider":null,"enumerationOperation":"nabu.cms.core.v2.manage.security.account.read.contexts","enumerationOperationLabel":"name","enumerationOperationValue":"id","enumerationOperationQuery":null,"enumerationOperationBinding":{},"name":"contextToAddUserFrom","placeholder":"%{Context to find user in}","visualisation":"combo-with-labels"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-form-enumeration-operation"},"form-component":{"variant":null,"modifiers":[],"options":["size_small"],"conditions":{}}}}},{"id":513,"rows":[],"alias":"page-form-enumeration-operation","bindings":{},"name":null,"state":{"hideMode":"script","enumerationProvider":null,"enumerationOperation":"nabu.cms.core.v2.manage.security.account.read.list","enumerationOperationLabel":null,"enumerationOperationValue":null,"enumerationOperationQuery":"q","enumerationOperationBinding":{"contextId":"page.contextToAddUserFrom"},"enumerationOperationLabelComplex":true,"complexLabel":"{alias} ({givenName} {familyName})","fragments":{"alias":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"alias"},"givenName":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"givenName"},"familyName":{"dateFormat":null,"tag":null,"html":null,"javascript":null,"amountOfDecimals":null,"key":"familyName"}},"name":"accountToAdd","placeholder":"%{The user you want to add}","emptyValue":"%{No users found in that context}","calculatingValue":"%{Loading users...}"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":"!!$value(\"page.contextToAddUserFrom\")","devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-form-enumeration-operation"},"form-component":{"variant":null,"modifiers":[],"options":["size_small"],"conditions":{}}}},"closeable":false},{"id":514,"rows":[{"id":515,"state":{"hideMode":null},"cells":[{"id":516,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"javascript","javascript":"var target = $value(\"repeatAccount.records\");\nvar source = $value(\"page.accountToAdd\");\n\ntarget.push(source);\n// unset it, very unlikely you want to add it again...\n$value(\"page.$this\").set(\"accountToAdd\", null);"},{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"visibility","closeableTarget":508,"closeableAction":"hidden"}],"trigger":"activate"}],"fragments":{},"content":"%{Add}","disabled":"!$value(\"page.accountToAdd\")","activationType":"route"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"primary","modifiers":[],"options":["size_small"],"conditions":{}}}}},{"id":517,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"visibility","closeableTarget":508,"closeableAction":"hidden"}],"trigger":"activate"}],"fragments":{},"content":"%{Cancel}","disabled":"","activationType":"route"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"link","modifiers":[],"options":["size_small"],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_cross-center"],"conditions":{}}}}}],"alias":null,"bindings":{},"name":"Wrapper for Button","state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"page-button":{"variant":"primary","modifiers":[],"options":["size_small"],"conditions":{}}}}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":null,"aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["spacing_gap-medium","align_cross-center"],"conditions":{}},"form":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"form-container":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":null,"form":{"bindings":{},"fields":[],"formType":null,"operation":null},"rendererBindings":{},"runtimeAlias":null}],"alias":null,"bindings":{},"name":null,"state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"form":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"form-container":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"table":{"colspan":"100"},"renderer":null,"form":{"bindings":{},"fields":[]},"rendererBindings":{}}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Adding user","aris":{"components":{"table-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"closeable":true},{"id":518,"state":{},"cells":[{"id":519,"rows":[],"alias":"page-paging","bindings":{},"name":null,"state":{"target":498,"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-paging"},"paging-button":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"paging-menu":{"variant":null,"modifiers":[],"options":[],"conditions":{}},"table-column":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"triggers":[],"table":{"colspan":"100"},"templateReferenceId":"nabu-templates-25","templateFragmentId":34}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Table paging","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_center"],"conditions":{}}}},"rendererSlot":"footer","templateReferenceId":"nabu-templates-25","templateFragmentId":33}],"alias":null,"bindings":{},"name":null,"state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"},"table":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"renderer":"table","rendererBindings":{},"isTemplate":false,"templateVersion":2,"templateId":null,"templateTitle":"Basic Table","templateCategory":"Nabu Templates","templateIcon":"table","templateStable":null,"isTemplateInstance":true,"templateReferenceId":"nabu-templates-25","templateFragmentId":30},{"id":520,"rows":[{"id":521,"state":{},"cells":[{"id":522,"rows":[],"alias":"page-button","bindings":{},"name":null,"state":{"hideMode":null,"bindings":{},"actionTarget":null,"activeRoutes":[],"triggers":[{"actions":[{"event":null,"url":null,"action":null,"actionTarget":null,"actionEvent":null,"route":null,"mask":null,"anchor":null,"activeRoutes":[],"bindings":{},"type":"visibility","closeableTarget":508,"closeableAction":"visible"}],"trigger":"activate"}],"fragments":{},"content":"%{Add user}","activationType":"route"},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column-page-button"},"page-button":{"variant":"primary","modifiers":[],"options":[],"conditions":{}}}},"closeable":false}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Global Actions","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["align_end"],"conditions":{}}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":36}],"alias":null,"bindings":{},"name":"Button container","state":{},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":[],"conditions":{},"defaultVariant":"page-column"}}},"templateReferenceId":"nabu-templates-25","templateFragmentId":35}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Account Table","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":["direction_vertical","spacing_gap-medium","fill_normal","spacing_large"],"conditions":{}}}},"isTemplate":false,"templateVersion":3,"templateId":null,"templateTitle":"Full table","templateCategory":"Nabu Templates","templateIcon":"table","templateDescription":"A table with a title, space for filters,...","templateStable":null,"isTemplateInstance":true,"templateReferenceId":"nabu-templates-25","templateFragmentId":25}],"alias":null,"bindings":{},"name":"Entities card","state":{"hideMode":null},"target":"page","on":null,"class":null,"customId":null,"width":null,"height":null,"condition":null,"devices":[],"clickEvent":null,"aris":{"components":{"page-column":{"variant":null,"modifiers":[],"options":["fill_normal","direction_horizontal","border_bottom","color_background"],"conditions":{},"defaultVariant":"page-column"}}},"closeable":false}],"class":null,"customId":null,"condition":null,"direction":null,"align":null,"on":null,"collapsed":false,"name":"Rules","aris":{"components":{"page-row":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"closeable":true}],"path":"/context/{contextId}","counter":566,"variables":[],"query":[],"actions":[],"class":null,"initial":false,"menuX":0,"menuY":0,"states":[{"name":"roles","operation":"nabu.cms.core.v2.manage.security.context.role.list","bindings":{"q":null,"orderBy":"fixed.name","contextId":"page.roleSearchContext"},"condition":null,"updateEvent":{"eventFields":[],"name":null},"refreshOn":[],"triggers":[],"enableParameterWatching":true},{"name":"context","operation":"nabu.cms.core.v2.manage.security.context.get","bindings":{"contextId":"page.contextId"},"condition":null,"updateEvent":{"eventFields":[],"name":null}},{"name":"features","operation":"nabu.cms.core.v2.manage.security.context.feature.list","bindings":{"contextId":"page.contextId","ownerId":null,"masterDataCategoryName":null},"condition":null,"updateEvent":{"eventFields":[],"name":null},"refreshOn":["refreshFeatures"]},{"name":"listableContexts","operation":"nabu.cms.core.v2.manage.security.account.read.contexts","bindings":{},"condition":null,"updateEvent":{"eventFields":[],"name":null}}],"category":"Security","slow":false,"name":"security-context","pageParent":"security-contexts","aris":{"components":{"page-grid":{"variant":null,"modifiers":[],"options":[],"conditions":{}}}},"parameters":[{"name":"publicRoles","type":null,"format":null,"default":null,"global":false,"listeners":[],"complexDefault":true,"defaultScript":"function() {\n\tvar roles = $value(\"page.roles.results\");\n\treturn !roles ? [] : roles.filter(function(x) {\n\t\treturn !x.pseudo;\n\t})\n}","updatedEvent":{"eventFields":[],"name":null}},{"name":"limitAccountToRoleIds","type":null,"format":null,"default":null,"global":false,"listeners":[],"complexDefault":false,"defaultScript":"","updatedEvent":{"eventFields":[],"name":null}},{"name":"contextToAddUserFrom","type":null,"format":null,"default":null,"global":false,"listeners":[],"complexDefault":true,"defaultScript":"$value(\"context.parents\")[0].id","updatedEvent":{"eventFields":[],"name":null}},{"name":"accountToAdd","type":"nabu.cms.core.v2.manage.security.crud.account.types.output","format":null,"default":null,"global":false,"listeners":[]},{"name":"securityRuleContext","type":"nabu.cms.core.v2.manage.security.context.nodeTags","format":null,"default":null,"global":false,"listeners":[]},{"name":"permissionSearchContext","type":null,"format":null,"default":"=$value(\"page.contextId\")","global":false,"listeners":[],"updatedEvent":{"eventFields":[],"name":null},"triggers":[]},{"name":"serviceContext","type":"string","format":null,"default":"=$value(\"parent.$this\").getServiceContext()","global":false,"listeners":[],"updatedEvent":{"eventFields":[],"name":null}},{"name":"roleSearchContext","type":null,"format":null,"default":"=$value(\"page.contextId\")","global":false,"listeners":[],"triggers":[],"updatedEvent":{"eventFields":[],"name":null}}],"triggers":[],"serviceContext":"page.serviceContext","formatters":[],"title":null}